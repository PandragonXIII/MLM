/home/xuyue/miniconda3/envs/llava/lib/python3.10/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: '/home/xuyue/miniconda3/envs/llava/lib/python3.10/site-packages/torchvision/image.so: undefined symbol: _ZN3c1017RegisterOperatorsD1Ev'If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(
processing images... denoise batch:   0%|          | 0/5 [00:00<?, ?it/s]denoise batch:  20%|██        | 1/5 [00:50<03:21, 50.34s/it]denoise batch:  40%|████      | 2/5 [01:40<02:31, 50.40s/it]denoise batch:  60%|██████    | 3/5 [02:31<01:41, 50.64s/it]denoise batch:  80%|████████  | 4/5 [03:23<00:50, 50.93s/it]denoise batch: 100%|██████████| 5/5 [03:34<00:00, 36.64s/it]denoise batch: 100%|██████████| 5/5 [03:34<00:00, 42.88s/it]
Done
computing cossim... Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:00,  4.59it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:00<00:00,  5.77it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:00<00:00,  6.23it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:00<00:00,  5.93it/s]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
You are using the default legacy behaviour of the <class 'transformers.models.llama.tokenization_llama.LlamaTokenizer'>. This is expected, and simply means that the `legacy` (previous) behavior will be used so nothing changes for you. If you want to use the new behaviour, set `legacy=False`. This should only be set if you understand what it means, and thoroughly read the reason why this was added as explained in https://github.com/huggingface/transformers/pull/24565
csv file saved at: ./temp_minigpt4
Done
Defender initialized with threshold=-0.003936767578125
processed 218 images, 218 texts in 327.66s
using minigpt4 for generation
Loading MiniGPT-4 models...Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.39s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.52s/it]
/home/xuyue/.local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Loading Q-Former
Loading Q-Former Done
Load MiniGPT-4 Checkpoint: /home/xuyue/QXYtemp/MLM/minigpt4/prerained_minigpt4_7b.pth
Done
generating response:   0%|          | 0/218 [00:00<?, ?it/s]generating response:   0%|          | 1/218 [01:15<4:34:43, 75.96s/it]generating response:   1%|          | 2/218 [02:31<4:33:19, 75.93s/it]generating response:   1%|▏         | 3/218 [03:52<4:39:34, 78.02s/it]generating response:   2%|▏         | 4/218 [05:10<4:38:47, 78.17s/it]generating response:   2%|▏         | 5/218 [06:27<4:36:09, 77.79s/it]generating response:   3%|▎         | 6/218 [07:43<4:32:26, 77.11s/it]generating response:   3%|▎         | 7/218 [09:01<4:31:46, 77.28s/it]generating response:   4%|▎         | 8/218 [10:18<4:30:39, 77.33s/it]generating response:   4%|▍         | 9/218 [11:38<4:32:14, 78.16s/it]generating response:   5%|▍         | 10/218 [12:54<4:27:59, 77.31s/it]generating response:   5%|▌         | 11/218 [14:11<4:26:16, 77.18s/it]generating response:   6%|▌         | 12/218 [15:27<4:24:14, 76.96s/it]generating response:   6%|▌         | 13/218 [16:42<4:21:07, 76.43s/it]generating response:   6%|▋         | 14/218 [17:58<4:18:56, 76.16s/it]generating response:   7%|▋         | 15/218 [19:14<4:17:46, 76.19s/it]generating response:   7%|▋         | 16/218 [20:31<4:17:18, 76.43s/it]generating response:   8%|▊         | 17/218 [21:48<4:17:07, 76.75s/it]generating response:   8%|▊         | 18/218 [23:44<4:54:55, 88.48s/it]generating response:   9%|▊         | 19/218 [25:39<5:19:29, 96.33s/it]generating response:   9%|▉         | 20/218 [27:31<5:33:53, 101.18s/it]generating response:  10%|▉         | 21/218 [29:32<5:51:10, 106.96s/it]generating response:  10%|█         | 22/218 [31:25<5:55:14, 108.75s/it]generating response:  11%|█         | 23/218 [33:20<5:59:31, 110.62s/it]generating response:  11%|█         | 24/218 [35:14<6:01:21, 111.76s/it]generating response:  11%|█▏        | 25/218 [37:10<6:03:10, 112.90s/it]generating response:  12%|█▏        | 26/218 [39:10<6:08:28, 115.15s/it]generating response:  12%|█▏        | 27/218 [41:10<6:11:12, 116.61s/it]generating response:  13%|█▎        | 28/218 [43:05<6:07:17, 115.99s/it]generating response:  13%|█▎        | 29/218 [45:00<6:04:23, 115.68s/it]generating response:  14%|█▍        | 30/218 [46:54<6:01:22, 115.33s/it]generating response:  14%|█▍        | 31/218 [48:49<5:58:41, 115.09s/it]generating response:  15%|█▍        | 32/218 [50:45<5:57:53, 115.45s/it]generating response:  15%|█▌        | 33/218 [52:38<5:53:36, 114.68s/it]generating response:  16%|█▌        | 34/218 [54:33<5:52:13, 114.86s/it]generating response:  16%|█▌        | 35/218 [56:26<5:48:10, 114.15s/it]generating response:  17%|█▋        | 36/218 [58:27<5:52:26, 116.19s/it]generating response:  17%|█▋        | 37/218 [1:00:20<5:47:50, 115.31s/it]generating response:  17%|█▋        | 38/218 [1:02:11<5:41:55, 113.97s/it]generating response:  18%|█▊        | 39/218 [1:04:09<5:43:41, 115.20s/it]generating response:  18%|█▊        | 40/218 [1:05:44<5:23:39, 109.10s/it]generating response:  19%|█▉        | 41/218 [1:07:00<4:52:35, 99.18s/it] generating response:  19%|█▉        | 42/218 [1:08:13<4:28:28, 91.53s/it]generating response:  20%|█▉        | 43/218 [1:09:28<4:11:55, 86.37s/it]generating response:  20%|██        | 44/218 [1:10:41<3:59:17, 82.51s/it]generating response:  21%|██        | 45/218 [1:11:54<3:49:35, 79.63s/it]generating response:  21%|██        | 46/218 [1:13:09<3:44:25, 78.29s/it]generating response:  22%|██▏       | 47/218 [1:14:25<3:41:23, 77.68s/it]generating response:  22%|██▏       | 48/218 [1:15:39<3:36:30, 76.42s/it]generating response:  22%|██▏       | 49/218 [1:16:53<3:33:25, 75.77s/it]generating response:  23%|██▎       | 50/218 [1:18:07<3:30:37, 75.22s/it]generating response:  23%|██▎       | 51/218 [1:19:22<3:28:51, 75.04s/it]generating response:  24%|██▍       | 52/218 [1:20:37<3:27:34, 75.03s/it]generating response:  24%|██▍       | 53/218 [1:21:51<3:26:03, 74.93s/it]generating response:  25%|██▍       | 54/218 [1:23:06<3:24:22, 74.77s/it]generating response:  25%|██▌       | 55/218 [1:24:20<3:23:02, 74.74s/it]generating response:  26%|██▌       | 56/218 [1:25:34<3:21:04, 74.47s/it]generating response:  26%|██▌       | 57/218 [1:26:48<3:18:50, 74.10s/it]generating response:  27%|██▋       | 58/218 [1:28:03<3:18:53, 74.59s/it]generating response:  27%|██▋       | 59/218 [1:29:21<3:19:57, 75.46s/it]generating response:  28%|██▊       | 60/218 [1:30:43<3:23:46, 77.39s/it]generating response:  28%|██▊       | 61/218 [1:31:58<3:20:50, 76.76s/it]generating response:  28%|██▊       | 62/218 [1:33:14<3:19:23, 76.69s/it]generating response:  29%|██▉       | 63/218 [1:34:28<3:15:57, 75.86s/it]generating response:  29%|██▉       | 64/218 [1:35:43<3:13:57, 75.57s/it]generating response:  30%|██▉       | 65/218 [1:36:59<3:12:48, 75.61s/it]generating response:  30%|███       | 66/218 [1:38:15<3:11:29, 75.59s/it]generating response:  31%|███       | 67/218 [1:39:30<3:10:10, 75.57s/it]generating response:  31%|███       | 68/218 [1:40:44<3:07:55, 75.17s/it]generating response:  32%|███▏      | 69/218 [1:42:00<3:06:44, 75.20s/it]generating response:  32%|███▏      | 70/218 [1:43:14<3:04:36, 74.84s/it]generating response:  33%|███▎      | 71/218 [1:44:27<3:02:21, 74.43s/it]generating response:  33%|███▎      | 72/218 [1:45:40<3:00:02, 73.99s/it]generating response:  33%|███▎      | 73/218 [1:46:55<2:59:32, 74.29s/it]generating response:  34%|███▍      | 74/218 [1:48:10<2:58:44, 74.47s/it]generating response:  34%|███▍      | 75/218 [1:49:25<2:57:51, 74.63s/it]generating response:  35%|███▍      | 76/218 [1:50:39<2:56:21, 74.52s/it]generating response:  35%|███▌      | 77/218 [1:51:57<2:57:25, 75.50s/it]generating response:  36%|███▌      | 78/218 [1:53:12<2:55:43, 75.31s/it]generating response:  36%|███▌      | 79/218 [1:54:26<2:53:42, 74.98s/it]generating response:  37%|███▋      | 80/218 [1:55:41<2:52:10, 74.86s/it]generating response:  37%|███▋      | 81/218 [1:56:55<2:50:43, 74.77s/it]generating response:  38%|███▊      | 82/218 [1:58:09<2:48:56, 74.54s/it]generating response:  38%|███▊      | 83/218 [1:59:24<2:47:56, 74.64s/it]generating response:  39%|███▊      | 84/218 [2:00:38<2:46:14, 74.43s/it]generating response:  39%|███▉      | 85/218 [2:01:52<2:44:39, 74.28s/it]generating response:  39%|███▉      | 86/218 [2:03:06<2:43:18, 74.23s/it]generating response:  40%|███▉      | 87/218 [2:04:24<2:44:16, 75.24s/it]generating response:  40%|████      | 88/218 [2:05:38<2:42:30, 75.00s/it]generating response:  41%|████      | 89/218 [2:06:54<2:41:58, 75.33s/it]generating response:  41%|████▏     | 90/218 [2:08:14<2:43:41, 76.73s/it]generating response:  42%|████▏     | 91/218 [2:09:29<2:41:25, 76.27s/it]generating response:  42%|████▏     | 92/218 [2:10:46<2:40:07, 76.25s/it]generating response:  43%|████▎     | 93/218 [2:12:02<2:38:42, 76.18s/it]generating response:  43%|████▎     | 94/218 [2:13:17<2:37:03, 75.99s/it]generating response:  44%|████▎     | 95/218 [2:14:34<2:36:29, 76.34s/it]generating response:  44%|████▍     | 96/218 [2:15:49<2:33:55, 75.70s/it]generating response:  44%|████▍     | 97/218 [2:17:09<2:35:50, 77.28s/it]generating response:  45%|████▍     | 98/218 [2:18:26<2:33:51, 76.93s/it]generating response:  45%|████▌     | 99/218 [2:19:40<2:31:11, 76.23s/it]generating response:  46%|████▌     | 100/218 [2:20:56<2:29:23, 75.96s/it]generating response:  46%|████▋     | 101/218 [2:22:12<2:28:24, 76.11s/it]generating response:  47%|████▋     | 102/218 [2:23:27<2:26:29, 75.78s/it]generating response:  47%|████▋     | 103/218 [2:24:42<2:24:44, 75.51s/it]generating response:  48%|████▊     | 104/218 [2:25:57<2:23:27, 75.50s/it]generating response:  48%|████▊     | 105/218 [2:27:13<2:22:00, 75.41s/it]generating response:  49%|████▊     | 106/218 [2:28:28<2:20:56, 75.50s/it]generating response:  49%|████▉     | 107/218 [2:29:43<2:19:28, 75.39s/it]generating response:  50%|████▉     | 108/218 [2:31:00<2:18:42, 75.66s/it]generating response:  50%|█████     | 109/218 [2:32:15<2:17:00, 75.42s/it]generating response:  50%|█████     | 110/218 [2:33:31<2:16:24, 75.79s/it]generating response:  51%|█████     | 111/218 [2:34:46<2:14:36, 75.48s/it]generating response:  51%|█████▏    | 112/218 [2:36:01<2:13:04, 75.33s/it]generating response:  52%|█████▏    | 113/218 [2:37:18<2:12:32, 75.74s/it]generating response:  52%|█████▏    | 114/218 [2:38:34<2:11:25, 75.82s/it]generating response:  53%|█████▎    | 115/218 [2:39:49<2:09:48, 75.61s/it]generating response:  53%|█████▎    | 116/218 [2:41:05<2:09:00, 75.88s/it]generating response:  54%|█████▎    | 117/218 [2:42:20<2:06:59, 75.44s/it]generating response:  54%|█████▍    | 118/218 [2:43:35<2:05:39, 75.40s/it]generating response:  55%|█████▍    | 119/218 [2:44:50<2:04:07, 75.22s/it]generating response:  55%|█████▌    | 120/218 [2:46:05<2:02:42, 75.13s/it]generating response:  56%|█████▌    | 121/218 [2:47:19<2:01:15, 75.00s/it]generating response:  56%|█████▌    | 122/218 [2:48:35<2:00:12, 75.13s/it]generating response:  56%|█████▋    | 123/218 [2:49:49<1:58:26, 74.81s/it]generating response:  57%|█████▋    | 124/218 [2:51:05<1:57:44, 75.16s/it]generating response:  57%|█████▋    | 125/218 [2:52:21<1:56:54, 75.42s/it]generating response:  58%|█████▊    | 126/218 [2:53:37<1:56:10, 75.77s/it]generating response:  58%|█████▊    | 127/218 [2:54:55<1:55:47, 76.35s/it]generating response:  59%|█████▊    | 128/218 [2:56:48<2:11:09, 87.44s/it]generating response:  59%|█████▉    | 129/218 [2:58:37<2:19:11, 93.84s/it]generating response:  60%|█████▉    | 130/218 [3:00:32<2:26:58, 100.22s/it]generating response:  60%|██████    | 131/218 [3:02:26<2:31:09, 104.25s/it]generating response:  61%|██████    | 132/218 [3:04:18<2:32:37, 106.48s/it]generating response:  61%|██████    | 133/218 [3:06:13<2:34:45, 109.24s/it]generating response:  61%|██████▏   | 134/218 [3:08:11<2:36:16, 111.62s/it]generating response:  62%|██████▏   | 135/218 [3:10:04<2:35:15, 112.23s/it]generating response:  62%|██████▏   | 136/218 [3:12:03<2:36:04, 114.21s/it]generating response:  63%|██████▎   | 137/218 [3:13:55<2:33:24, 113.63s/it]generating response:  63%|██████▎   | 138/218 [3:15:47<2:30:45, 113.07s/it]generating response:  64%|██████▍   | 139/218 [3:17:44<2:30:27, 114.27s/it]generating response:  64%|██████▍   | 140/218 [3:19:39<2:28:46, 114.44s/it]generating response:  65%|██████▍   | 141/218 [3:21:33<2:26:52, 114.45s/it]generating response:  65%|██████▌   | 142/218 [3:23:25<2:23:55, 113.63s/it]generating response:  66%|██████▌   | 143/218 [3:25:19<2:22:00, 113.60s/it]generating response:  66%|██████▌   | 144/218 [3:27:13<2:20:16, 113.73s/it]generating response:  67%|██████▋   | 145/218 [3:29:08<2:18:47, 114.08s/it]generating response:  67%|██████▋   | 146/218 [3:31:01<2:16:31, 113.77s/it]generating response:  67%|██████▋   | 147/218 [3:32:54<2:14:19, 113.52s/it]generating response:  68%|██████▊   | 148/218 [3:34:49<2:13:13, 114.19s/it]generating response:  68%|██████▊   | 149/218 [3:36:44<2:11:19, 114.20s/it]generating response:  69%|██████▉   | 150/218 [3:38:25<2:05:08, 110.42s/it]generating response:  69%|██████▉   | 151/218 [3:39:42<1:52:02, 100.33s/it]generating response:  70%|██████▉   | 152/218 [3:40:58<1:42:20, 93.04s/it] generating response:  70%|███████   | 153/218 [3:42:26<1:39:05, 91.47s/it]generating response:  71%|███████   | 154/218 [3:43:43<1:33:02, 87.23s/it]generating response:  71%|███████   | 155/218 [3:44:59<1:28:08, 83.95s/it]generating response:  72%|███████▏  | 156/218 [3:46:18<1:25:01, 82.28s/it]generating response:  72%|███████▏  | 157/218 [3:47:35<1:22:01, 80.69s/it]generating response:  72%|███████▏  | 158/218 [3:48:52<1:19:30, 79.50s/it]generating response:  73%|███████▎  | 159/218 [3:50:07<1:16:59, 78.30s/it]generating response:  73%|███████▎  | 160/218 [3:51:22<1:14:42, 77.28s/it]generating response:  74%|███████▍  | 161/218 [3:52:37<1:12:45, 76.60s/it]generating response:  74%|███████▍  | 162/218 [3:53:52<1:10:59, 76.06s/it]generating response:  75%|███████▍  | 163/218 [3:55:08<1:09:50, 76.19s/it]generating response:  75%|███████▌  | 164/218 [3:56:23<1:08:17, 75.88s/it]generating response:  76%|███████▌  | 165/218 [3:57:40<1:07:06, 75.98s/it]generating response:  76%|███████▌  | 166/218 [3:58:56<1:06:03, 76.22s/it]generating response:  77%|███████▋  | 167/218 [4:00:13<1:04:54, 76.35s/it]generating response:  77%|███████▋  | 168/218 [4:01:32<1:04:18, 77.17s/it]generating response:  78%|███████▊  | 169/218 [4:02:49<1:03:01, 77.17s/it]generating response:  78%|███████▊  | 170/218 [4:04:08<1:02:08, 77.68s/it]generating response:  78%|███████▊  | 171/218 [4:05:24<1:00:25, 77.13s/it]generating response:  79%|███████▉  | 172/218 [4:06:42<59:24, 77.49s/it]  generating response:  79%|███████▉  | 173/218 [4:08:00<58:05, 77.44s/it]generating response:  80%|███████▉  | 174/218 [4:09:18<56:58, 77.69s/it]generating response:  80%|████████  | 175/218 [4:10:36<55:50, 77.91s/it]generating response:  81%|████████  | 176/218 [4:11:54<54:29, 77.83s/it]generating response:  81%|████████  | 177/218 [4:13:12<53:12, 77.86s/it]generating response:  82%|████████▏ | 178/218 [4:14:29<51:45, 77.64s/it]generating response:  82%|████████▏ | 179/218 [4:15:47<50:26, 77.59s/it]generating response:  83%|████████▎ | 180/218 [4:17:04<49:05, 77.52s/it]generating response:  83%|████████▎ | 181/218 [4:18:21<47:41, 77.35s/it]generating response:  83%|████████▎ | 182/218 [4:19:38<46:27, 77.43s/it]generating response:  84%|████████▍ | 183/218 [4:20:57<45:22, 77.79s/it]generating response:  84%|████████▍ | 184/218 [4:22:15<44:03, 77.74s/it]generating response:  85%|████████▍ | 185/218 [4:23:33<42:48, 77.84s/it]generating response:  85%|████████▌ | 186/218 [4:24:50<41:29, 77.78s/it]generating response:  86%|████████▌ | 187/218 [4:26:08<40:13, 77.84s/it]generating response:  86%|████████▌ | 188/218 [4:27:27<39:00, 78.01s/it]generating response:  87%|████████▋ | 189/218 [4:28:43<37:29, 77.56s/it]generating response:  87%|████████▋ | 190/218 [4:30:01<36:11, 77.55s/it]generating response:  88%|████████▊ | 191/218 [4:31:22<35:22, 78.62s/it]generating response:  88%|████████▊ | 192/218 [4:32:39<33:54, 78.24s/it]generating response:  89%|████████▊ | 193/218 [4:33:58<32:41, 78.45s/it]generating response:  89%|████████▉ | 194/218 [4:35:16<31:20, 78.36s/it]generating response:  89%|████████▉ | 195/218 [4:36:35<30:00, 78.29s/it]generating response:  90%|████████▉ | 196/218 [4:37:52<28:37, 78.09s/it]generating response:  90%|█████████ | 197/218 [4:39:10<27:15, 77.90s/it]generating response:  91%|█████████ | 198/218 [4:40:27<25:51, 77.59s/it]generating response:  91%|█████████▏| 199/218 [4:41:44<24:35, 77.66s/it]generating response:  92%|█████████▏| 200/218 [4:43:02<23:17, 77.61s/it]generating response:  92%|█████████▏| 201/218 [4:44:19<21:59, 77.62s/it]generating response:  93%|█████████▎| 202/218 [4:45:37<20:43, 77.72s/it]generating response:  93%|█████████▎| 203/218 [4:46:54<19:20, 77.38s/it]generating response:  94%|█████████▎| 204/218 [4:48:12<18:04, 77.48s/it]generating response:  94%|█████████▍| 205/218 [4:49:30<16:50, 77.71s/it]generating response:  94%|█████████▍| 206/218 [4:50:49<15:36, 78.00s/it]generating response:  95%|█████████▍| 207/218 [4:52:06<14:16, 77.87s/it]generating response:  95%|█████████▌| 208/218 [4:53:25<13:00, 78.09s/it]generating response:  96%|█████████▌| 209/218 [4:54:45<11:48, 78.69s/it]generating response:  96%|█████████▋| 210/218 [4:56:02<10:26, 78.30s/it]generating response:  97%|█████████▋| 211/218 [4:57:22<09:11, 78.83s/it]generating response:  97%|█████████▋| 212/218 [4:58:39<07:49, 78.30s/it]generating response:  98%|█████████▊| 213/218 [4:59:57<06:30, 78.04s/it]generating response:  98%|█████████▊| 214/218 [5:01:15<05:11, 77.93s/it]generating response:  99%|█████████▊| 215/218 [5:02:35<03:56, 78.79s/it]generating response:  99%|█████████▉| 216/218 [5:03:53<02:36, 78.42s/it]generating response: 100%|█████████▉| 217/218 [5:05:12<01:18, 78.58s/it]generating response: 100%|██████████| 218/218 [5:06:30<00:00, 78.45s/it]generating response: 100%|██████████| 218/218 [5:06:30<00:00, 84.36s/it]
generation part takes 18420.12s
processing images... denoise batch:   0%|          | 0/5 [00:00<?, ?it/s]denoise batch:  20%|██        | 1/5 [00:54<03:36, 54.13s/it]denoise batch:  40%|████      | 2/5 [01:48<02:41, 53.99s/it]denoise batch:  60%|██████    | 3/5 [02:42<01:48, 54.16s/it]denoise batch:  80%|████████  | 4/5 [03:35<00:53, 53.92s/it]denoise batch: 100%|██████████| 5/5 [03:47<00:00, 38.56s/it]denoise batch: 100%|██████████| 5/5 [03:47<00:00, 45.45s/it]
Done
computing cossim... Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:00,  4.40it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:00<00:00,  5.45it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:00<00:00,  6.00it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:00<00:00,  5.69it/s]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
csv file saved at: ./temp_minigpt4
Done
Defender initialized with threshold=-0.003936767578125
processed 218 images, 218 texts in 19077.69s
using minigpt4 for generation
Loading MiniGPT-4 models...Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.24s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.42s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.54s/it]
/home/xuyue/.local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Loading Q-Former
Loading Q-Former Done
Load MiniGPT-4 Checkpoint: /home/xuyue/QXYtemp/MLM/minigpt4/prerained_minigpt4_7b.pth
Done
generating response:   0%|          | 0/218 [00:00<?, ?it/s]generating response:   0%|          | 1/218 [01:17<4:40:14, 77.48s/it]generating response:   1%|          | 2/218 [02:32<4:32:46, 75.77s/it]generating response:   1%|▏         | 3/218 [03:47<4:30:27, 75.48s/it]generating response:   2%|▏         | 4/218 [05:04<4:32:03, 76.28s/it]generating response:   2%|▏         | 5/218 [06:21<4:31:46, 76.55s/it]generating response:   3%|▎         | 6/218 [07:37<4:29:05, 76.16s/it]generating response:   3%|▎         | 7/218 [08:51<4:26:09, 75.69s/it]generating response:   4%|▎         | 8/218 [10:08<4:26:28, 76.14s/it]generating response:   4%|▍         | 9/218 [11:24<4:24:50, 76.03s/it]generating response:   5%|▍         | 10/218 [12:40<4:23:37, 76.05s/it]generating response:   5%|▌         | 11/218 [13:57<4:22:48, 76.18s/it]generating response:   6%|▌         | 12/218 [15:14<4:22:30, 76.46s/it]generating response:   6%|▌         | 13/218 [16:31<4:21:24, 76.51s/it]generating response:   6%|▋         | 14/218 [17:50<4:23:09, 77.40s/it]generating response:   7%|▋         | 15/218 [19:43<4:57:41, 87.99s/it]generating response:   7%|▋         | 16/218 [21:35<5:21:05, 95.37s/it]generating response:   8%|▊         | 17/218 [23:28<5:37:31, 100.75s/it]generating response:   8%|▊         | 18/218 [25:22<5:48:31, 104.56s/it]generating response:   9%|▊         | 19/218 [27:15<5:55:14, 107.11s/it]generating response:   9%|▉         | 20/218 [29:09<6:00:39, 109.29s/it]generating response:  10%|▉         | 21/218 [31:05<6:05:34, 111.34s/it]generating response:  10%|█         | 22/218 [33:00<6:07:14, 112.42s/it]generating response:  11%|█         | 23/218 [34:54<6:06:29, 112.77s/it]generating response:  11%|█         | 24/218 [36:50<6:07:31, 113.67s/it]generating response:  11%|█▏        | 25/218 [38:45<6:07:12, 114.16s/it]generating response:  12%|█▏        | 26/218 [40:41<6:06:58, 114.68s/it]generating response:  12%|█▏        | 27/218 [42:39<6:08:30, 115.76s/it]generating response:  13%|█▎        | 28/218 [44:34<6:06:14, 115.66s/it]generating response:  13%|█▎        | 29/218 [46:28<6:02:21, 115.03s/it]generating response:  14%|█▍        | 30/218 [48:21<5:58:17, 114.35s/it]generating response:  14%|█▍        | 31/218 [50:15<5:55:55, 114.20s/it]generating response:  15%|█▍        | 32/218 [52:11<5:55:51, 114.79s/it]generating response:  15%|█▌        | 33/218 [54:03<5:51:08, 113.88s/it]generating response:  16%|█▌        | 34/218 [55:57<5:49:33, 113.99s/it]generating response:  16%|█▌        | 35/218 [57:50<5:46:36, 113.64s/it]generating response:  17%|█▋        | 36/218 [59:47<5:47:52, 114.68s/it]generating response:  17%|█▋        | 37/218 [1:01:27<5:33:18, 110.49s/it]generating response:  17%|█▋        | 38/218 [1:02:44<5:00:45, 100.25s/it]generating response:  18%|█▊        | 39/218 [1:04:01<4:38:30, 93.35s/it] generating response:  18%|█▊        | 40/218 [1:05:17<4:21:22, 88.10s/it]generating response:  19%|█▉        | 41/218 [1:06:35<4:10:55, 85.06s/it]generating response:  19%|█▉        | 42/218 [1:07:53<4:03:36, 83.05s/it]generating response:  20%|█▉        | 43/218 [1:09:13<3:58:56, 81.92s/it]generating response:  20%|██        | 44/218 [1:10:30<3:53:26, 80.49s/it]generating response:  21%|██        | 45/218 [1:11:47<3:49:07, 79.47s/it]generating response:  21%|██        | 46/218 [1:13:02<3:44:35, 78.34s/it]generating response:  22%|██▏       | 47/218 [1:14:19<3:41:29, 77.72s/it]generating response:  22%|██▏       | 48/218 [1:15:35<3:39:15, 77.38s/it]generating response:  22%|██▏       | 49/218 [1:16:50<3:35:58, 76.68s/it]generating response:  23%|██▎       | 50/218 [1:18:06<3:33:34, 76.28s/it]generating response:  23%|██▎       | 51/218 [1:19:22<3:32:03, 76.19s/it]generating response:  24%|██▍       | 52/218 [1:20:40<3:32:10, 76.69s/it]generating response:  24%|██▍       | 53/218 [1:21:59<3:33:34, 77.67s/it]generating response:  25%|██▍       | 54/218 [1:23:16<3:31:38, 77.43s/it]generating response:  25%|██▌       | 55/218 [1:24:35<3:31:43, 77.94s/it]generating response:  26%|██▌       | 56/218 [1:25:56<3:32:23, 78.67s/it]generating response:  26%|██▌       | 57/218 [1:27:13<3:29:45, 78.17s/it]generating response:  27%|██▋       | 58/218 [1:28:32<3:29:22, 78.52s/it]generating response:  27%|██▋       | 59/218 [1:29:55<3:31:50, 79.94s/it]generating response:  28%|██▊       | 60/218 [1:31:13<3:28:19, 79.11s/it]generating response:  28%|██▊       | 61/218 [1:32:31<3:26:23, 78.88s/it]generating response:  28%|██▊       | 62/218 [1:33:49<3:24:22, 78.61s/it]generating response:  29%|██▉       | 63/218 [1:35:07<3:22:32, 78.40s/it]generating response:  29%|██▉       | 64/218 [1:36:24<3:19:54, 77.89s/it]generating response:  30%|██▉       | 65/218 [1:37:42<3:18:54, 78.00s/it]generating response:  30%|███       | 66/218 [1:39:00<3:17:56, 78.13s/it]generating response:  31%|███       | 67/218 [1:40:19<3:17:17, 78.39s/it]generating response:  31%|███       | 68/218 [1:41:37<3:15:25, 78.17s/it]generating response:  32%|███▏      | 69/218 [1:42:55<3:14:16, 78.23s/it]generating response:  32%|███▏      | 70/218 [1:44:12<3:11:56, 77.82s/it]generating response:  33%|███▎      | 71/218 [1:45:29<3:10:02, 77.57s/it]generating response:  33%|███▎      | 72/218 [1:46:44<3:07:05, 76.89s/it]generating response:  33%|███▎      | 73/218 [1:48:03<3:07:12, 77.47s/it]generating response:  34%|███▍      | 74/218 [1:49:22<3:06:46, 77.82s/it]generating response:  34%|███▍      | 75/218 [1:50:40<3:05:34, 77.86s/it]generating response:  35%|███▍      | 76/218 [1:52:00<3:05:36, 78.43s/it]generating response:  35%|███▌      | 77/218 [1:53:17<3:03:20, 78.02s/it]generating response:  36%|███▌      | 78/218 [1:54:35<3:02:11, 78.08s/it]generating response:  36%|███▌      | 79/218 [1:55:52<3:00:24, 77.87s/it]generating response:  37%|███▋      | 80/218 [1:57:09<2:58:22, 77.55s/it]generating response:  37%|███▋      | 81/218 [1:58:27<2:57:23, 77.69s/it]generating response:  38%|███▊      | 82/218 [1:59:45<2:56:04, 77.68s/it]generating response:  38%|███▊      | 83/218 [2:01:03<2:54:51, 77.72s/it]generating response:  39%|███▊      | 84/218 [2:02:19<2:52:55, 77.43s/it]generating response:  39%|███▉      | 85/218 [2:03:38<2:52:40, 77.90s/it]generating response:  39%|███▉      | 86/218 [2:04:56<2:51:19, 77.88s/it]generating response:  40%|███▉      | 87/218 [2:06:13<2:49:14, 77.51s/it]generating response:  40%|████      | 88/218 [2:07:30<2:47:48, 77.45s/it]generating response:  41%|████      | 89/218 [2:08:50<2:47:50, 78.07s/it]generating response:  41%|████▏     | 90/218 [2:10:07<2:46:14, 77.92s/it]generating response:  42%|████▏     | 91/218 [2:11:26<2:45:11, 78.04s/it]generating response:  42%|████▏     | 92/218 [2:12:41<2:42:28, 77.37s/it]generating response:  43%|████▎     | 93/218 [2:13:59<2:41:22, 77.46s/it]generating response:  43%|████▎     | 94/218 [2:15:16<2:40:04, 77.45s/it]generating response:  44%|████▎     | 95/218 [2:16:33<2:38:12, 77.18s/it]generating response:  44%|████▍     | 96/218 [2:17:48<2:35:49, 76.64s/it]generating response:  44%|████▍     | 97/218 [2:19:05<2:34:51, 76.79s/it]generating response:  45%|████▍     | 98/218 [2:20:24<2:34:33, 77.28s/it]generating response:  45%|████▌     | 99/218 [2:21:39<2:32:06, 76.69s/it]generating response:  46%|████▌     | 100/218 [2:22:56<2:31:09, 76.86s/it]generating response:  46%|████▋     | 101/218 [2:24:14<2:30:33, 77.21s/it]generating response:  47%|████▋     | 102/218 [2:25:30<2:28:00, 76.56s/it]generating response:  47%|████▋     | 103/218 [2:26:45<2:26:22, 76.37s/it]generating response:  48%|████▊     | 104/218 [2:28:02<2:24:56, 76.28s/it]generating response:  48%|████▊     | 105/218 [2:29:17<2:22:55, 75.89s/it]generating response:  49%|████▊     | 106/218 [2:30:34<2:22:29, 76.34s/it]generating response:  49%|████▉     | 107/218 [2:31:51<2:21:25, 76.45s/it]generating response:  50%|████▉     | 108/218 [2:33:07<2:20:11, 76.47s/it]generating response:  50%|█████     | 109/218 [2:34:25<2:19:37, 76.86s/it]generating response:  50%|█████     | 110/218 [2:35:41<2:17:42, 76.50s/it]generating response:  51%|█████     | 111/218 [2:36:57<2:16:11, 76.37s/it]generating response:  51%|█████▏    | 112/218 [2:38:14<2:15:13, 76.55s/it]generating response:  52%|█████▏    | 113/218 [2:39:30<2:13:38, 76.37s/it]generating response:  52%|█████▏    | 114/218 [2:40:46<2:12:30, 76.45s/it]generating response:  53%|█████▎    | 115/218 [2:42:03<2:11:14, 76.45s/it]generating response:  53%|█████▎    | 116/218 [2:43:21<2:10:58, 77.04s/it]generating response:  54%|█████▎    | 117/218 [2:44:38<2:09:24, 76.87s/it]generating response:  54%|█████▍    | 118/218 [2:45:54<2:07:58, 76.78s/it]generating response:  55%|█████▍    | 119/218 [2:47:10<2:06:22, 76.59s/it]generating response:  55%|█████▌    | 120/218 [2:48:27<2:05:15, 76.69s/it]generating response:  56%|█████▌    | 121/218 [2:49:45<2:04:30, 77.02s/it]generating response:  56%|█████▌    | 122/218 [2:51:03<2:03:29, 77.18s/it]generating response:  56%|█████▋    | 123/218 [2:52:20<2:02:07, 77.13s/it]generating response:  57%|█████▋    | 124/218 [2:54:05<2:14:06, 85.60s/it]generating response:  57%|█████▋    | 125/218 [2:56:00<2:26:26, 94.48s/it]generating response:  58%|█████▊    | 126/218 [2:57:55<2:34:16, 100.61s/it]generating response:  58%|█████▊    | 127/218 [2:59:52<2:39:52, 105.41s/it]generating response:  59%|█████▊    | 128/218 [3:01:46<2:42:12, 108.14s/it]generating response:  59%|█████▉    | 129/218 [3:03:42<2:43:54, 110.50s/it]generating response:  60%|█████▉    | 130/218 [3:05:37<2:43:52, 111.73s/it]generating response:  60%|██████    | 131/218 [3:07:32<2:43:31, 112.78s/it]generating response:  61%|██████    | 132/218 [3:09:27<2:42:47, 113.57s/it]generating response:  61%|██████    | 133/218 [3:11:24<2:42:11, 114.49s/it]generating response:  61%|██████▏   | 134/218 [3:13:20<2:41:03, 115.04s/it]generating response:  62%|██████▏   | 135/218 [3:15:14<2:38:35, 114.65s/it]generating response:  62%|██████▏   | 136/218 [3:17:08<2:36:29, 114.51s/it]generating response:  63%|██████▎   | 137/218 [3:19:06<2:36:03, 115.60s/it]generating response:  63%|██████▎   | 138/218 [3:21:02<2:33:59, 115.50s/it]generating response:  64%|██████▍   | 139/218 [3:22:59<2:32:54, 116.13s/it]generating response:  64%|██████▍   | 140/218 [3:24:56<2:31:23, 116.46s/it]generating response:  65%|██████▍   | 141/218 [3:26:57<2:30:56, 117.62s/it]generating response:  65%|██████▌   | 142/218 [3:28:53<2:28:37, 117.34s/it]generating response:  66%|██████▌   | 143/218 [3:30:50<2:26:13, 116.98s/it]generating response:  66%|██████▌   | 144/218 [3:32:44<2:23:19, 116.21s/it]generating response:  67%|██████▋   | 145/218 [3:34:42<2:22:11, 116.88s/it]generating response:  67%|██████▋   | 146/218 [3:36:27<2:15:51, 113.21s/it]generating response:  67%|██████▋   | 147/218 [3:37:44<2:01:13, 102.44s/it]generating response:  68%|██████▊   | 148/218 [3:39:02<1:50:41, 94.88s/it] generating response:  68%|██████▊   | 149/218 [3:40:20<1:43:21, 89.88s/it]generating response:  69%|██████▉   | 150/218 [3:41:36<1:37:20, 85.89s/it]generating response:  69%|██████▉   | 151/218 [3:42:55<1:33:35, 83.81s/it]generating response:  70%|██████▉   | 152/218 [3:44:14<1:30:29, 82.27s/it]generating response:  70%|███████   | 153/218 [3:45:31<1:27:27, 80.74s/it]generating response:  71%|███████   | 154/218 [3:46:50<1:25:29, 80.15s/it]generating response:  71%|███████   | 155/218 [3:48:09<1:23:44, 79.75s/it]generating response:  72%|███████▏  | 156/218 [3:49:27<1:21:51, 79.22s/it]generating response:  72%|███████▏  | 157/218 [3:50:43<1:19:40, 78.36s/it]generating response:  72%|███████▏  | 158/218 [3:52:01<1:18:03, 78.06s/it]generating response:  73%|███████▎  | 159/218 [3:53:16<1:15:58, 77.26s/it]generating response:  73%|███████▎  | 160/218 [3:54:32<1:14:15, 76.82s/it]generating response:  74%|███████▍  | 161/218 [3:55:49<1:13:06, 76.96s/it]generating response:  74%|███████▍  | 162/218 [3:57:05<1:11:32, 76.65s/it]generating response:  75%|███████▍  | 163/218 [3:58:22<1:10:16, 76.67s/it]generating response:  75%|███████▌  | 164/218 [3:59:37<1:08:37, 76.25s/it]generating response:  76%|███████▌  | 165/218 [4:00:54<1:07:36, 76.53s/it]generating response:  76%|███████▌  | 166/218 [4:02:09<1:05:57, 76.11s/it]generating response:  77%|███████▋  | 167/218 [4:03:24<1:04:16, 75.61s/it]generating response:  77%|███████▋  | 168/218 [4:04:40<1:03:04, 75.69s/it]generating response:  78%|███████▊  | 169/218 [4:05:57<1:02:13, 76.20s/it]generating response:  78%|███████▊  | 170/218 [4:07:14<1:01:15, 76.58s/it]generating response:  78%|███████▊  | 171/218 [4:08:31<1:00:04, 76.68s/it]generating response:  79%|███████▉  | 172/218 [4:09:49<58:58, 76.92s/it]  generating response:  79%|███████▉  | 173/218 [4:11:07<57:53, 77.18s/it]generating response:  80%|███████▉  | 174/218 [4:12:24<56:38, 77.23s/it]generating response:  80%|████████  | 175/218 [4:13:41<55:23, 77.30s/it]generating response:  81%|████████  | 176/218 [4:14:59<54:11, 77.41s/it]generating response:  81%|████████  | 177/218 [4:16:16<52:48, 77.29s/it]generating response:  82%|████████▏ | 178/218 [4:17:34<51:36, 77.40s/it]generating response:  82%|████████▏ | 179/218 [4:18:50<50:00, 76.93s/it]generating response:  83%|████████▎ | 180/218 [4:20:07<48:48, 77.05s/it]generating response:  83%|████████▎ | 181/218 [4:21:24<47:27, 76.96s/it]generating response:  83%|████████▎ | 182/218 [4:22:42<46:26, 77.40s/it]generating response:  84%|████████▍ | 183/218 [4:24:00<45:10, 77.44s/it]generating response:  84%|████████▍ | 184/218 [4:25:17<43:49, 77.35s/it]generating response:  85%|████████▍ | 185/218 [4:26:35<42:36, 77.46s/it]generating response:  85%|████████▌ | 186/218 [4:27:51<41:07, 77.10s/it]generating response:  86%|████████▌ | 187/218 [4:29:08<39:55, 77.26s/it]generating response:  86%|████████▌ | 188/218 [4:30:26<38:43, 77.45s/it]generating response:  87%|████████▋ | 189/218 [4:31:44<37:26, 77.46s/it]generating response:  87%|████████▋ | 190/218 [4:33:01<36:09, 77.47s/it]generating response:  88%|████████▊ | 191/218 [4:34:18<34:47, 77.31s/it]generating response:  88%|████████▊ | 192/218 [4:35:35<33:26, 77.18s/it]generating response:  89%|████████▊ | 193/218 [4:36:52<32:10, 77.22s/it]generating response:  89%|████████▉ | 194/218 [4:38:09<30:51, 77.16s/it]generating response:  89%|████████▉ | 195/218 [4:39:27<29:35, 77.22s/it]generating response:  90%|████████▉ | 196/218 [4:40:44<28:16, 77.10s/it]generating response:  90%|█████████ | 197/218 [4:42:02<27:05, 77.42s/it]generating response:  91%|█████████ | 198/218 [4:43:19<25:48, 77.44s/it]generating response:  91%|█████████▏| 199/218 [4:44:36<24:26, 77.16s/it]generating response:  92%|█████████▏| 200/218 [4:45:53<23:09, 77.17s/it]generating response:  92%|█████████▏| 201/218 [4:47:10<21:52, 77.21s/it]generating response:  93%|█████████▎| 202/218 [4:48:27<20:33, 77.07s/it]generating response:  93%|█████████▎| 203/218 [4:49:44<19:16, 77.13s/it]generating response:  94%|█████████▎| 204/218 [4:51:00<17:52, 76.61s/it]generating response:  94%|█████████▍| 205/218 [4:52:16<16:34, 76.48s/it]generating response:  94%|█████████▍| 206/218 [4:53:33<15:18, 76.56s/it]generating response:  95%|█████████▍| 207/218 [4:54:49<14:02, 76.63s/it]generating response:  95%|█████████▌| 208/218 [4:56:07<12:48, 76.81s/it]generating response:  96%|█████████▌| 209/218 [4:57:24<11:33, 77.04s/it]generating response:  96%|█████████▋| 210/218 [4:58:41<10:16, 77.09s/it]generating response:  97%|█████████▋| 211/218 [5:00:00<09:02, 77.53s/it]generating response:  97%|█████████▋| 212/218 [5:01:20<07:49, 78.27s/it]generating response:  98%|█████████▊| 213/218 [5:02:41<06:34, 78.95s/it]generating response:  98%|█████████▊| 214/218 [5:03:58<05:14, 78.61s/it]generating response:  99%|█████████▊| 215/218 [5:05:17<03:56, 78.73s/it]generating response:  99%|█████████▉| 216/218 [5:06:35<02:36, 78.48s/it]generating response: 100%|█████████▉| 217/218 [5:07:54<01:18, 78.49s/it]generating response: 100%|██████████| 218/218 [5:09:13<00:00, 78.73s/it]generating response: 100%|██████████| 218/218 [5:09:13<00:00, 85.11s/it]
generation part takes 18582.63s
processing images... denoise batch:   0%|          | 0/5 [00:00<?, ?it/s]denoise batch:  20%|██        | 1/5 [00:54<03:36, 54.16s/it]denoise batch:  40%|████      | 2/5 [01:48<02:43, 54.48s/it]denoise batch:  60%|██████    | 3/5 [02:43<01:48, 54.41s/it]denoise batch:  80%|████████  | 4/5 [03:36<00:54, 54.13s/it]denoise batch: 100%|██████████| 5/5 [03:48<00:00, 38.73s/it]denoise batch: 100%|██████████| 5/5 [03:48<00:00, 45.66s/it]
Done
computing cossim... Loading checkpoint shards:   0%|          | 0/3 [00:00<?, ?it/s]Loading checkpoint shards:  33%|███▎      | 1/3 [00:00<00:00,  4.39it/s]Loading checkpoint shards:  67%|██████▋   | 2/3 [00:00<00:00,  5.56it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:00<00:00,  6.13it/s]Loading checkpoint shards: 100%|██████████| 3/3 [00:00<00:00,  5.79it/s]
Special tokens have been added in the vocabulary, make sure the associated word embeddings are fine-tuned or trained.
csv file saved at: ./temp_minigpt4
Done
Defender initialized with threshold=-0.003936767578125
processed 218 images, 218 texts in 37989.22s
using minigpt4 for generation
Loading MiniGPT-4 models...Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.20s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.39s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.51s/it]
/home/xuyue/.local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Loading Q-Former
Loading Q-Former Done
Load MiniGPT-4 Checkpoint: /home/xuyue/QXYtemp/MLM/minigpt4/prerained_minigpt4_7b.pth
Done
generating response:   0%|          | 0/218 [00:00<?, ?it/s]generating response:   0%|          | 1/218 [01:17<4:41:12, 77.75s/it]generating response:   1%|          | 2/218 [02:32<4:34:10, 76.16s/it]generating response:   1%|▏         | 3/218 [03:47<4:30:40, 75.54s/it]generating response:   2%|▏         | 4/218 [05:02<4:29:00, 75.42s/it]generating response:   2%|▏         | 5/218 [06:17<4:26:41, 75.13s/it]generating response:   3%|▎         | 6/218 [07:32<4:25:50, 75.24s/it]generating response:   3%|▎         | 7/218 [08:48<4:25:02, 75.37s/it]generating response:   4%|▎         | 8/218 [10:05<4:25:01, 75.72s/it]generating response:   4%|▍         | 9/218 [11:39<4:44:02, 81.54s/it]generating response:   5%|▍         | 10/218 [13:33<5:17:19, 91.53s/it]generating response:   5%|▌         | 11/218 [15:28<5:41:02, 98.85s/it]generating response:   6%|▌         | 12/218 [17:27<6:00:30, 105.00s/it]generating response:   6%|▌         | 13/218 [19:23<6:09:26, 108.13s/it]generating response:   6%|▋         | 14/218 [21:16<6:12:54, 109.68s/it]generating response:   7%|▋         | 15/218 [23:10<6:15:46, 111.07s/it]generating response:   7%|▋         | 16/218 [25:04<6:16:22, 111.79s/it]generating response:   8%|▊         | 17/218 [27:00<6:18:51, 113.09s/it]generating response:   8%|▊         | 18/218 [28:54<6:18:34, 113.57s/it]generating response:   9%|▊         | 19/218 [30:50<6:18:39, 114.17s/it]generating response:   9%|▉         | 20/218 [32:45<6:18:01, 114.55s/it]generating response:  10%|▉         | 21/218 [34:42<6:18:24, 115.25s/it]generating response:  10%|█         | 22/218 [36:39<6:18:08, 115.76s/it]generating response:  11%|█         | 23/218 [38:35<6:15:52, 115.65s/it]generating response:  11%|█         | 24/218 [40:32<6:15:30, 116.14s/it]generating response:  11%|█▏        | 25/218 [42:27<6:12:53, 115.92s/it]generating response:  12%|█▏        | 26/218 [44:28<6:15:38, 117.39s/it]generating response:  12%|█▏        | 27/218 [46:28<6:15:51, 118.07s/it]generating response:  13%|█▎        | 28/218 [48:21<6:09:37, 116.72s/it]generating response:  13%|█▎        | 29/218 [50:18<6:07:39, 116.72s/it]generating response:  14%|█▍        | 30/218 [52:14<6:04:38, 116.38s/it]generating response:  14%|█▍        | 31/218 [54:02<5:55:19, 114.01s/it]generating response:  15%|█▍        | 32/218 [55:22<5:21:11, 103.61s/it]generating response:  15%|█▌        | 33/218 [56:38<4:54:13, 95.43s/it] generating response:  16%|█▌        | 34/218 [57:55<4:36:06, 90.03s/it]generating response:  16%|█▌        | 35/218 [59:12<4:22:04, 85.93s/it]generating response:  17%|█▋        | 36/218 [1:00:29<4:13:00, 83.41s/it]generating response:  17%|█▋        | 37/218 [1:01:46<4:05:14, 81.29s/it]generating response:  17%|█▋        | 38/218 [1:03:05<4:02:33, 80.85s/it]generating response:  18%|█▊        | 39/218 [1:04:24<3:59:00, 80.11s/it]generating response:  18%|█▊        | 40/218 [1:05:42<3:55:57, 79.54s/it]generating response:  19%|█▉        | 41/218 [1:07:00<3:53:39, 79.21s/it]generating response:  19%|█▉        | 42/218 [1:08:19<3:52:13, 79.17s/it]generating response:  20%|█▉        | 43/218 [1:09:36<3:49:03, 78.53s/it]generating response:  20%|██        | 44/218 [1:10:53<3:46:21, 78.06s/it]generating response:  21%|██        | 45/218 [1:12:11<3:44:19, 77.80s/it]generating response:  21%|██        | 46/218 [1:13:26<3:41:13, 77.17s/it]generating response:  22%|██▏       | 47/218 [1:14:45<3:40:56, 77.52s/it]generating response:  22%|██▏       | 48/218 [1:16:04<3:40:46, 77.92s/it]generating response:  22%|██▏       | 49/218 [1:17:22<3:39:56, 78.09s/it]generating response:  23%|██▎       | 50/218 [1:18:40<3:38:38, 78.09s/it]generating response:  23%|██▎       | 51/218 [1:19:59<3:37:57, 78.31s/it]generating response:  24%|██▍       | 52/218 [1:21:19<3:37:52, 78.75s/it]generating response:  24%|██▍       | 53/218 [1:22:37<3:36:28, 78.72s/it]generating response:  25%|██▍       | 54/218 [1:23:57<3:35:36, 78.88s/it]generating response:  25%|██▌       | 55/218 [1:25:14<3:32:53, 78.37s/it]generating response:  26%|██▌       | 56/218 [1:26:30<3:29:44, 77.68s/it]generating response:  26%|██▌       | 57/218 [1:27:47<3:27:47, 77.44s/it]generating response:  27%|██▋       | 58/218 [1:29:05<3:27:14, 77.72s/it]generating response:  27%|██▋       | 59/218 [1:30:24<3:26:59, 78.11s/it]generating response:  28%|██▊       | 60/218 [1:31:42<3:25:23, 78.00s/it]generating response:  28%|██▊       | 61/218 [1:33:06<3:29:07, 79.92s/it]generating response:  28%|██▊       | 62/218 [1:34:26<3:27:18, 79.74s/it]generating response:  29%|██▉       | 63/218 [1:35:42<3:23:40, 78.85s/it]generating response:  29%|██▉       | 64/218 [1:37:04<3:24:22, 79.63s/it]generating response:  30%|██▉       | 65/218 [1:38:21<3:21:29, 79.02s/it]generating response:  30%|███       | 66/218 [1:39:39<3:18:52, 78.50s/it]generating response:  31%|███       | 67/218 [1:40:57<3:17:45, 78.58s/it]generating response:  31%|███       | 68/218 [1:42:15<3:16:02, 78.42s/it]generating response:  32%|███▏      | 69/218 [1:43:32<3:13:09, 77.78s/it]generating response:  32%|███▏      | 70/218 [1:44:51<3:12:37, 78.09s/it]generating response:  33%|███▎      | 71/218 [1:46:07<3:10:15, 77.65s/it]generating response:  33%|███▎      | 72/218 [1:47:23<3:07:39, 77.12s/it]generating response:  33%|███▎      | 73/218 [1:48:40<3:06:32, 77.19s/it]generating response:  34%|███▍      | 74/218 [1:49:59<3:06:18, 77.63s/it]generating response:  34%|███▍      | 75/218 [1:51:17<3:05:22, 77.78s/it]generating response:  35%|███▍      | 76/218 [1:52:34<3:03:13, 77.42s/it]generating response:  35%|███▌      | 77/218 [1:53:51<3:01:52, 77.39s/it]generating response:  36%|███▌      | 78/218 [1:55:08<3:00:33, 77.38s/it]generating response:  36%|███▌      | 79/218 [1:56:27<3:00:02, 77.71s/it]generating response:  37%|███▋      | 80/218 [1:57:43<2:57:48, 77.31s/it]generating response:  37%|███▋      | 81/218 [1:59:01<2:56:37, 77.35s/it]generating response:  38%|███▊      | 82/218 [2:00:19<2:55:35, 77.46s/it]generating response:  38%|███▊      | 83/218 [2:01:36<2:54:12, 77.43s/it]generating response:  39%|███▊      | 84/218 [2:02:56<2:54:35, 78.17s/it]generating response:  39%|███▉      | 85/218 [2:04:13<2:52:42, 77.92s/it]generating response:  39%|███▉      | 86/218 [2:05:30<2:50:48, 77.64s/it]generating response:  40%|███▉      | 87/218 [2:06:49<2:50:08, 77.93s/it]generating response:  40%|████      | 88/218 [2:08:05<2:47:55, 77.51s/it]generating response:  41%|████      | 89/218 [2:09:23<2:46:47, 77.58s/it]generating response:  41%|████▏     | 90/218 [2:10:39<2:44:49, 77.26s/it]generating response:  42%|████▏     | 91/218 [2:11:59<2:44:48, 77.86s/it]generating response:  42%|████▏     | 92/218 [2:13:18<2:44:29, 78.33s/it]generating response:  43%|████▎     | 93/218 [2:14:37<2:43:13, 78.35s/it]generating response:  43%|████▎     | 94/218 [2:15:53<2:40:44, 77.78s/it]generating response:  44%|████▎     | 95/218 [2:17:11<2:39:40, 77.89s/it]generating response:  44%|████▍     | 96/218 [2:18:30<2:39:14, 78.31s/it]generating response:  44%|████▍     | 97/218 [2:19:53<2:40:44, 79.71s/it]generating response:  45%|████▍     | 98/218 [2:21:11<2:37:58, 78.99s/it]generating response:  45%|████▌     | 99/218 [2:22:28<2:35:20, 78.33s/it]generating response:  46%|████▌     | 100/218 [2:23:45<2:33:17, 77.94s/it]generating response:  46%|████▋     | 101/218 [2:24:58<2:29:08, 76.48s/it]generating response:  47%|████▋     | 102/218 [2:26:13<2:27:28, 76.28s/it]generating response:  47%|████▋     | 103/218 [2:27:30<2:26:25, 76.40s/it]generating response:  48%|████▊     | 104/218 [2:28:46<2:25:01, 76.32s/it]generating response:  48%|████▊     | 105/218 [2:30:01<2:23:05, 75.98s/it]generating response:  49%|████▊     | 106/218 [2:31:16<2:20:57, 75.51s/it]generating response:  49%|████▉     | 107/218 [2:32:30<2:19:03, 75.17s/it]generating response:  50%|████▉     | 108/218 [2:33:46<2:17:57, 75.25s/it]generating response:  50%|█████     | 109/218 [2:35:01<2:16:58, 75.40s/it]generating response:  50%|█████     | 110/218 [2:36:17<2:15:46, 75.43s/it]generating response:  51%|█████     | 111/218 [2:37:33<2:14:55, 75.66s/it]generating response:  51%|█████▏    | 112/218 [2:38:48<2:13:05, 75.34s/it]generating response:  52%|█████▏    | 113/218 [2:40:03<2:11:47, 75.31s/it]generating response:  52%|█████▏    | 114/218 [2:41:19<2:11:07, 75.65s/it]generating response:  53%|█████▎    | 115/218 [2:42:36<2:10:07, 75.80s/it]generating response:  53%|█████▎    | 116/218 [2:43:52<2:09:01, 75.90s/it]generating response:  54%|█████▎    | 117/218 [2:45:04<2:05:45, 74.70s/it]generating response:  54%|█████▍    | 118/218 [2:46:58<2:24:20, 86.60s/it]generating response:  55%|█████▍    | 119/218 [2:48:53<2:36:46, 95.02s/it]generating response:  55%|█████▌    | 120/218 [2:50:47<2:44:42, 100.84s/it]generating response:  56%|█████▌    | 121/218 [2:52:49<2:53:28, 107.30s/it]generating response:  56%|█████▌    | 122/218 [2:54:40<2:53:27, 108.41s/it]generating response:  56%|█████▋    | 123/218 [2:56:32<2:52:56, 109.23s/it]generating response:  57%|█████▋    | 124/218 [2:58:25<2:53:11, 110.55s/it]generating response:  57%|█████▋    | 125/218 [3:00:17<2:51:47, 110.83s/it]generating response:  58%|█████▊    | 126/218 [3:02:10<2:51:10, 111.63s/it]generating response:  58%|█████▊    | 127/218 [3:04:02<2:49:25, 111.71s/it]generating response:  59%|█████▊    | 128/218 [3:05:53<2:47:06, 111.41s/it]generating response:  59%|█████▉    | 129/218 [3:07:50<2:47:42, 113.06s/it]generating response:  60%|█████▉    | 130/218 [3:09:42<2:45:37, 112.92s/it]generating response:  60%|██████    | 131/218 [3:11:35<2:43:48, 112.97s/it]generating response:  61%|██████    | 132/218 [3:13:27<2:41:22, 112.59s/it]generating response:  61%|██████    | 133/218 [3:15:19<2:39:23, 112.52s/it]generating response:  61%|██████▏   | 134/218 [3:17:13<2:37:52, 112.77s/it]generating response:  62%|██████▏   | 135/218 [3:19:06<2:35:59, 112.77s/it]generating response:  62%|██████▏   | 136/218 [3:20:59<2:34:16, 112.88s/it]generating response:  63%|██████▎   | 137/218 [3:22:52<2:32:23, 112.88s/it]generating response:  63%|██████▎   | 138/218 [3:24:47<2:31:34, 113.68s/it]generating response:  64%|██████▍   | 139/218 [3:26:41<2:29:52, 113.83s/it]generating response:  64%|██████▍   | 140/218 [3:28:30<2:25:49, 112.17s/it]generating response:  65%|██████▍   | 141/218 [3:29:46<2:10:15, 101.51s/it]generating response:  65%|██████▌   | 142/218 [3:31:02<1:58:46, 93.77s/it] generating response:  66%|██████▌   | 143/218 [3:32:19<1:50:58, 88.78s/it]generating response:  66%|██████▌   | 144/218 [3:33:35<1:44:46, 84.95s/it]generating response:  67%|██████▋   | 145/218 [3:34:52<1:40:26, 82.55s/it]generating response:  67%|██████▋   | 146/218 [3:36:08<1:36:34, 80.48s/it]generating response:  67%|██████▋   | 147/218 [3:37:24<1:33:55, 79.38s/it]generating response:  68%|██████▊   | 148/218 [3:38:40<1:31:10, 78.15s/it]generating response:  68%|██████▊   | 149/218 [3:39:56<1:29:16, 77.63s/it]generating response:  69%|██████▉   | 150/218 [3:41:13<1:27:43, 77.41s/it]generating response:  69%|██████▉   | 151/218 [3:42:29<1:25:59, 77.01s/it]generating response:  70%|██████▉   | 152/218 [3:43:46<1:24:38, 76.94s/it]generating response:  70%|███████   | 153/218 [3:45:03<1:23:17, 76.89s/it]generating response:  71%|███████   | 154/218 [3:46:19<1:21:44, 76.64s/it]generating response:  71%|███████   | 155/218 [3:47:36<1:20:41, 76.85s/it]generating response:  72%|███████▏  | 156/218 [3:48:55<1:19:56, 77.36s/it]generating response:  72%|███████▏  | 157/218 [3:50:12<1:18:41, 77.40s/it]generating response:  72%|███████▏  | 158/218 [3:51:29<1:17:21, 77.35s/it]generating response:  73%|███████▎  | 159/218 [3:52:45<1:15:26, 76.73s/it]generating response:  73%|███████▎  | 160/218 [3:54:01<1:14:00, 76.56s/it]generating response:  74%|███████▍  | 161/218 [3:55:21<1:13:41, 77.58s/it]generating response:  74%|███████▍  | 162/218 [3:56:36<1:11:37, 76.74s/it]generating response:  75%|███████▍  | 163/218 [3:57:51<1:09:57, 76.31s/it]generating response:  75%|███████▌  | 164/218 [3:59:05<1:07:59, 75.54s/it]generating response:  76%|███████▌  | 165/218 [4:00:18<1:06:09, 74.90s/it]generating response:  76%|███████▌  | 166/218 [4:01:32<1:04:43, 74.69s/it]generating response:  77%|███████▋  | 167/218 [4:02:47<1:03:27, 74.65s/it]generating response:  77%|███████▋  | 168/218 [4:04:02<1:02:14, 74.68s/it]generating response:  78%|███████▊  | 169/218 [4:05:20<1:01:54, 75.81s/it]generating response:  78%|███████▊  | 170/218 [4:06:35<1:00:30, 75.64s/it]generating response:  78%|███████▊  | 171/218 [4:07:51<59:16, 75.67s/it]  generating response:  79%|███████▉  | 172/218 [4:09:08<58:13, 75.94s/it]generating response:  79%|███████▉  | 173/218 [4:10:24<57:04, 76.11s/it]generating response:  80%|███████▉  | 174/218 [4:11:39<55:35, 75.81s/it]generating response:  80%|████████  | 175/218 [4:12:56<54:29, 76.05s/it]generating response:  81%|████████  | 176/218 [4:14:11<52:59, 75.69s/it]generating response:  81%|████████  | 177/218 [4:15:26<51:45, 75.74s/it]generating response:  82%|████████▏ | 178/218 [4:16:43<50:33, 75.84s/it]generating response:  82%|████████▏ | 179/218 [4:17:58<49:18, 75.85s/it]generating response:  83%|████████▎ | 180/218 [4:19:16<48:19, 76.31s/it]generating response:  83%|████████▎ | 181/218 [4:20:32<47:04, 76.33s/it]generating response:  83%|████████▎ | 182/218 [4:21:48<45:41, 76.16s/it]generating response:  84%|████████▍ | 183/218 [4:23:06<44:44, 76.70s/it]generating response:  84%|████████▍ | 184/218 [4:24:22<43:22, 76.56s/it]generating response:  85%|████████▍ | 185/218 [4:25:39<42:11, 76.73s/it]generating response:  85%|████████▌ | 186/218 [4:26:55<40:49, 76.54s/it]generating response:  86%|████████▌ | 187/218 [4:28:12<39:36, 76.65s/it]generating response:  86%|████████▌ | 188/218 [4:29:30<38:29, 76.98s/it]generating response:  87%|████████▋ | 189/218 [4:30:45<36:52, 76.30s/it]generating response:  87%|████████▋ | 190/218 [4:31:59<35:21, 75.78s/it]generating response:  88%|████████▊ | 191/218 [4:33:16<34:11, 75.97s/it]generating response:  88%|████████▊ | 192/218 [4:34:31<32:48, 75.70s/it]generating response:  89%|████████▊ | 193/218 [4:35:48<31:43, 76.12s/it]generating response:  89%|████████▉ | 194/218 [4:37:05<30:32, 76.34s/it]generating response:  89%|████████▉ | 195/218 [4:38:21<29:18, 76.45s/it]generating response:  90%|████████▉ | 196/218 [4:39:37<27:55, 76.17s/it]generating response:  90%|█████████ | 197/218 [4:40:53<26:36, 76.01s/it]generating response:  91%|█████████ | 198/218 [4:42:09<25:20, 76.03s/it]generating response:  91%|█████████▏| 199/218 [4:43:24<24:02, 75.94s/it]generating response:  92%|█████████▏| 200/218 [4:44:40<22:46, 75.92s/it]generating response:  92%|█████████▏| 201/218 [4:45:55<21:26, 75.70s/it]generating response:  93%|█████████▎| 202/218 [4:47:11<20:10, 75.66s/it]generating response:  93%|█████████▎| 203/218 [4:48:27<18:54, 75.62s/it]generating response:  94%|█████████▎| 204/218 [4:49:42<17:39, 75.66s/it]generating response:  94%|█████████▍| 205/218 [4:51:00<16:31, 76.28s/it]generating response:  94%|█████████▍| 206/218 [4:52:16<15:14, 76.19s/it]generating response:  95%|█████████▍| 207/218 [4:53:32<13:58, 76.20s/it]generating response:  95%|█████████▌| 208/218 [4:54:48<12:41, 76.19s/it]generating response:  96%|█████████▌| 209/218 [4:56:04<11:22, 75.88s/it]generating response:  96%|█████████▋| 210/218 [4:57:20<10:08, 76.03s/it]generating response:  97%|█████████▋| 211/218 [4:58:37<08:54, 76.41s/it]generating response:  97%|█████████▋| 212/218 [4:59:56<07:42, 77.14s/it]generating response:  98%|█████████▊| 213/218 [5:01:12<06:23, 76.79s/it]generating response:  98%|█████████▊| 214/218 [5:02:29<05:07, 76.80s/it]generating response:  99%|█████████▊| 215/218 [5:03:46<03:50, 76.82s/it]generating response:  99%|█████████▉| 216/218 [5:05:01<02:32, 76.28s/it]generating response: 100%|█████████▉| 217/218 [5:06:17<01:16, 76.37s/it]generating response: 100%|██████████| 218/218 [5:07:32<00:00, 75.92s/it]generating response: 100%|██████████| 218/218 [5:07:32<00:00, 84.65s/it]
generation part takes 18481.42s
Full generation completed in 56470.69s
/home/xuyue/miniconda3/envs/llava/lib/python3.10/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: '/home/xuyue/miniconda3/envs/llava/lib/python3.10/site-packages/torchvision/image.so: undefined symbol: _ZN3c1017RegisterOperatorsD1Ev'If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(
You are using the default legacy behaviour of the <class 'transformers.models.llama.tokenization_llama.LlamaTokenizer'>. This is expected, and simply means that the `legacy` (previous) behavior will be used so nothing changes for you. If you want to use the new behaviour, set `legacy=False`. This should only be set if you understand what it means, and thoroughly read the reason why this was added as explained in https://github.com/huggingface/transformers/pull/24565
processed 218 images, 218 texts in 0.06s
using minigpt4 for generation
Loading MiniGPT-4 models...Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.56s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.55s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.70s/it]
/home/xuyue/.local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Loading Q-Former
Loading Q-Former Done
Load MiniGPT-4 Checkpoint: /home/xuyue/QXYtemp/MLM/minigpt4/prerained_minigpt4_7b.pth
Done
generating response:   0%|          | 0/218 [00:00<?, ?it/s]generating response:   0%|          | 1/218 [01:15<4:33:31, 75.63s/it]generating response:   1%|          | 2/218 [02:28<4:27:14, 74.24s/it]generating response:   1%|▏         | 3/218 [03:41<4:23:47, 73.61s/it]generating response:   2%|▏         | 4/218 [04:56<4:23:37, 73.91s/it]generating response:   2%|▏         | 5/218 [06:11<4:24:02, 74.38s/it]generating response:   3%|▎         | 6/218 [07:26<4:23:27, 74.56s/it]generating response:   3%|▎         | 7/218 [08:41<4:22:46, 74.72s/it]generating response:   4%|▎         | 8/218 [10:00<4:26:28, 76.14s/it]generating response:   4%|▍         | 9/218 [11:17<4:26:20, 76.46s/it]generating response:   5%|▍         | 10/218 [13:00<4:53:18, 84.61s/it]generating response:   5%|▌         | 11/218 [14:51<5:19:42, 92.67s/it]generating response:   6%|▌         | 12/218 [16:44<5:39:05, 98.76s/it]generating response:   6%|▌         | 13/218 [18:36<5:51:20, 102.83s/it]generating response:   6%|▋         | 14/218 [20:24<5:55:20, 104.51s/it]generating response:   7%|▋         | 15/218 [22:14<5:59:01, 106.12s/it]generating response:   7%|▋         | 16/218 [24:06<6:03:03, 107.84s/it]generating response:   8%|▊         | 17/218 [25:57<6:04:15, 108.73s/it]generating response:   8%|▊         | 18/218 [27:48<6:04:53, 109.47s/it]generating response:   9%|▊         | 19/218 [29:41<6:06:30, 110.50s/it]generating response:   9%|▉         | 20/218 [31:33<6:06:18, 111.00s/it]generating response:  10%|▉         | 21/218 [33:28<6:08:16, 112.16s/it]generating response:  10%|█         | 22/218 [35:31<6:17:05, 115.43s/it]generating response:  11%|█         | 23/218 [37:24<6:13:04, 114.79s/it]generating response:  11%|█         | 24/218 [39:16<6:08:11, 113.87s/it]generating response:  11%|█▏        | 25/218 [41:09<6:05:11, 113.53s/it]generating response:  12%|█▏        | 26/218 [43:06<6:06:48, 114.63s/it]generating response:  12%|█▏        | 27/218 [44:58<6:02:31, 113.88s/it]generating response:  13%|█▎        | 28/218 [46:51<5:59:48, 113.62s/it]generating response:  13%|█▎        | 29/218 [48:41<5:54:36, 112.57s/it]generating response:  14%|█▍        | 30/218 [50:32<5:50:46, 111.95s/it]generating response:  14%|█▍        | 31/218 [52:23<5:48:02, 111.67s/it]generating response:  15%|█▍        | 32/218 [54:16<5:48:03, 112.28s/it]generating response:  15%|█▌        | 33/218 [55:42<5:21:47, 104.37s/it]generating response:  16%|█▌        | 34/218 [56:56<4:51:56, 95.20s/it] generating response:  16%|█▌        | 35/218 [58:09<4:29:57, 88.51s/it]generating response:  17%|█▋        | 36/218 [59:22<4:14:33, 83.92s/it]generating response:  17%|█▋        | 37/218 [1:00:37<4:04:33, 81.07s/it]generating response:  17%|█▋        | 38/218 [1:01:51<3:57:39, 79.22s/it]generating response:  18%|█▊        | 39/218 [1:03:07<3:53:04, 78.13s/it]generating response:  18%|█▊        | 40/218 [1:04:22<3:49:00, 77.19s/it]generating response:  19%|█▉        | 41/218 [1:05:38<3:46:37, 76.82s/it]generating response:  19%|█▉        | 42/218 [1:06:54<3:44:31, 76.54s/it]generating response:  20%|█▉        | 43/218 [1:08:08<3:40:47, 75.70s/it]generating response:  20%|██        | 44/218 [1:09:22<3:38:36, 75.38s/it]generating response:  21%|██        | 45/218 [1:10:36<3:36:12, 74.99s/it]generating response:  21%|██        | 46/218 [1:11:50<3:33:26, 74.45s/it]generating response:  22%|██▏       | 47/218 [1:13:06<3:34:09, 75.14s/it]generating response:  22%|██▏       | 48/218 [1:14:21<3:32:30, 75.00s/it]generating response:  22%|██▏       | 49/218 [1:15:38<3:32:46, 75.54s/it]generating response:  23%|██▎       | 50/218 [1:16:52<3:30:07, 75.04s/it]generating response:  23%|██▎       | 51/218 [1:18:06<3:28:37, 74.95s/it]generating response:  24%|██▍       | 52/218 [1:19:20<3:26:34, 74.66s/it]generating response:  24%|██▍       | 53/218 [1:20:36<3:25:41, 74.80s/it]generating response:  25%|██▍       | 54/218 [1:21:50<3:24:32, 74.83s/it]generating response:  25%|██▌       | 55/218 [1:23:05<3:22:58, 74.71s/it]generating response:  26%|██▌       | 56/218 [1:24:19<3:21:06, 74.49s/it]generating response:  26%|██▌       | 57/218 [1:25:36<3:22:21, 75.42s/it]generating response:  27%|██▋       | 58/218 [1:26:51<3:20:20, 75.13s/it]generating response:  27%|██▋       | 59/218 [1:28:12<3:23:42, 76.87s/it]generating response:  28%|██▊       | 60/218 [1:29:30<3:23:13, 77.17s/it]generating response:  28%|██▊       | 61/218 [1:30:46<3:21:38, 77.06s/it]generating response:  28%|██▊       | 62/218 [1:32:03<3:20:10, 76.99s/it]generating response:  29%|██▉       | 63/218 [1:33:23<3:21:00, 77.81s/it]generating response:  29%|██▉       | 64/218 [1:34:40<3:19:26, 77.70s/it]generating response:  30%|██▉       | 65/218 [1:35:57<3:17:23, 77.41s/it]generating response:  30%|███       | 66/218 [1:37:15<3:16:39, 77.63s/it]generating response:  31%|███       | 67/218 [1:38:34<3:16:05, 77.92s/it]generating response:  31%|███       | 68/218 [1:39:50<3:13:34, 77.43s/it]generating response:  32%|███▏      | 69/218 [1:41:10<3:14:06, 78.17s/it]generating response:  32%|███▏      | 70/218 [1:42:25<3:10:23, 77.19s/it]generating response:  33%|███▎      | 71/218 [1:43:41<3:08:13, 76.83s/it]generating response:  33%|███▎      | 72/218 [1:44:56<3:05:15, 76.14s/it]generating response:  33%|███▎      | 73/218 [1:46:11<3:03:49, 76.07s/it]generating response:  34%|███▍      | 74/218 [1:47:28<3:02:50, 76.18s/it]generating response:  34%|███▍      | 75/218 [1:48:46<3:02:39, 76.64s/it]generating response:  35%|███▍      | 76/218 [1:50:04<3:02:17, 77.02s/it]generating response:  35%|███▌      | 77/218 [1:51:22<3:02:02, 77.47s/it]generating response:  36%|███▌      | 78/218 [1:52:38<2:59:25, 76.89s/it]generating response:  36%|███▌      | 79/218 [1:53:53<2:57:12, 76.49s/it]generating response:  37%|███▋      | 80/218 [1:55:09<2:55:34, 76.34s/it]generating response:  37%|███▋      | 81/218 [1:56:27<2:55:17, 76.77s/it]generating response:  38%|███▊      | 82/218 [1:57:43<2:53:29, 76.54s/it]generating response:  38%|███▊      | 83/218 [1:59:03<2:54:28, 77.55s/it]generating response:  39%|███▊      | 84/218 [2:00:18<2:51:26, 76.76s/it]generating response:  39%|███▉      | 85/218 [2:01:33<2:48:50, 76.17s/it]generating response:  39%|███▉      | 86/218 [2:02:50<2:48:38, 76.65s/it]generating response:  40%|███▉      | 87/218 [2:04:06<2:46:53, 76.44s/it]generating response:  40%|████      | 88/218 [2:05:23<2:45:43, 76.49s/it]generating response:  41%|████      | 89/218 [2:06:39<2:44:31, 76.52s/it]generating response:  41%|████▏     | 90/218 [2:07:57<2:43:41, 76.73s/it]generating response:  42%|████▏     | 91/218 [2:09:13<2:41:53, 76.49s/it]generating response:  42%|████▏     | 92/218 [2:10:30<2:41:16, 76.80s/it]generating response:  43%|████▎     | 93/218 [2:11:48<2:40:24, 77.00s/it]generating response:  43%|████▎     | 94/218 [2:13:05<2:39:29, 77.17s/it]generating response:  44%|████▎     | 95/218 [2:14:21<2:37:32, 76.85s/it]generating response:  44%|████▍     | 96/218 [2:15:37<2:35:24, 76.43s/it]generating response:  44%|████▍     | 97/218 [2:16:54<2:34:27, 76.59s/it]generating response:  45%|████▍     | 98/218 [2:18:10<2:33:01, 76.51s/it]generating response:  45%|████▌     | 99/218 [2:19:24<2:30:20, 75.80s/it]generating response:  46%|████▌     | 100/218 [2:20:38<2:28:13, 75.37s/it]generating response:  46%|████▋     | 101/218 [2:21:54<2:27:19, 75.55s/it]generating response:  47%|████▋     | 102/218 [2:23:12<2:27:29, 76.29s/it]generating response:  47%|████▋     | 103/218 [2:24:30<2:27:10, 76.78s/it]generating response:  48%|████▊     | 104/218 [2:25:47<2:25:30, 76.59s/it]generating response:  48%|████▊     | 105/218 [2:27:04<2:24:52, 76.92s/it]generating response:  49%|████▊     | 106/218 [2:28:21<2:23:20, 76.79s/it]generating response:  49%|████▉     | 107/218 [2:29:34<2:19:54, 75.62s/it]generating response:  50%|████▉     | 108/218 [2:30:47<2:17:14, 74.86s/it]generating response:  50%|█████     | 109/218 [2:32:01<2:15:43, 74.71s/it]generating response:  50%|█████     | 110/218 [2:33:14<2:13:46, 74.32s/it]generating response:  51%|█████     | 111/218 [2:34:30<2:13:10, 74.68s/it]generating response:  51%|█████▏    | 112/218 [2:35:45<2:12:08, 74.80s/it]generating response:  52%|█████▏    | 113/218 [2:37:00<2:11:01, 74.87s/it]generating response:  52%|█████▏    | 114/218 [2:38:15<2:09:38, 74.80s/it]generating response:  53%|█████▎    | 115/218 [2:39:36<2:11:54, 76.84s/it]generating response:  53%|█████▎    | 116/218 [2:40:53<2:10:35, 76.82s/it]generating response:  54%|█████▎    | 117/218 [2:42:10<2:09:32, 76.96s/it]generating response:  54%|█████▍    | 118/218 [2:43:28<2:08:43, 77.24s/it]generating response:  55%|█████▍    | 119/218 [2:44:46<2:07:44, 77.42s/it]generating response:  55%|█████▌    | 120/218 [2:46:02<2:05:42, 76.96s/it]generating response:  56%|█████▌    | 121/218 [2:47:54<2:21:10, 87.33s/it]generating response:  56%|█████▌    | 122/218 [2:49:55<2:36:08, 97.59s/it]generating response:  56%|█████▋    | 123/218 [2:51:54<2:44:32, 103.92s/it]generating response:  57%|█████▋    | 124/218 [2:53:49<2:47:59, 107.23s/it]generating response:  57%|█████▋    | 125/218 [2:55:40<2:48:04, 108.44s/it]generating response:  58%|█████▊    | 126/218 [2:57:30<2:47:08, 109.00s/it]generating response:  58%|█████▊    | 127/218 [2:59:20<2:45:48, 109.32s/it]generating response:  59%|█████▊    | 128/218 [3:01:10<2:44:12, 109.47s/it]generating response:  59%|█████▉    | 129/218 [3:03:01<2:42:50, 109.78s/it]generating response:  60%|█████▉    | 130/218 [3:04:52<2:41:38, 110.21s/it]generating response:  60%|██████    | 131/218 [3:06:45<2:40:55, 110.98s/it]generating response:  61%|██████    | 132/218 [3:08:36<2:39:06, 111.01s/it]generating response:  61%|██████    | 133/218 [3:10:28<2:37:57, 111.51s/it]generating response:  61%|██████▏   | 134/218 [3:12:20<2:36:02, 111.45s/it]generating response:  62%|██████▏   | 135/218 [3:14:11<2:33:58, 111.31s/it]generating response:  62%|██████▏   | 136/218 [3:16:04<2:32:44, 111.76s/it]generating response:  63%|██████▎   | 137/218 [3:17:58<2:32:00, 112.60s/it]generating response:  63%|██████▎   | 138/218 [3:19:52<2:30:36, 112.95s/it]generating response:  64%|██████▍   | 139/218 [3:21:46<2:29:11, 113.31s/it]generating response:  64%|██████▍   | 140/218 [3:23:37<2:26:29, 112.69s/it]generating response:  65%|██████▍   | 141/218 [3:25:31<2:24:54, 112.92s/it]generating response:  65%|██████▌   | 142/218 [3:27:23<2:22:37, 112.60s/it]generating response:  66%|██████▌   | 143/218 [3:29:14<2:20:26, 112.35s/it]generating response:  66%|██████▌   | 144/218 [3:30:39<2:08:14, 103.98s/it]generating response:  67%|██████▋   | 145/218 [3:31:56<1:56:36, 95.84s/it] generating response:  67%|██████▋   | 146/218 [3:33:11<1:47:35, 89.66s/it]generating response:  67%|██████▋   | 147/218 [3:34:26<1:40:55, 85.29s/it]generating response:  68%|██████▊   | 148/218 [3:35:42<1:36:25, 82.65s/it]generating response:  68%|██████▊   | 149/218 [3:36:57<1:32:24, 80.36s/it]generating response:  69%|██████▉   | 150/218 [3:38:15<1:30:03, 79.46s/it]generating response:  69%|██████▉   | 151/218 [3:39:31<1:27:31, 78.37s/it]generating response:  70%|██████▉   | 152/218 [3:40:47<1:25:26, 77.67s/it]generating response:  70%|███████   | 153/218 [3:42:02<1:23:16, 76.87s/it]generating response:  71%|███████   | 154/218 [3:43:17<1:21:26, 76.35s/it]generating response:  71%|███████   | 155/218 [3:44:32<1:19:45, 75.96s/it]generating response:  72%|███████▏  | 156/218 [3:45:45<1:17:40, 75.16s/it]generating response:  72%|███████▏  | 157/218 [3:47:01<1:16:37, 75.38s/it]generating response:  72%|███████▏  | 158/218 [3:48:18<1:15:56, 75.94s/it]generating response:  73%|███████▎  | 159/218 [3:49:32<1:13:55, 75.18s/it]generating response:  73%|███████▎  | 160/218 [3:50:48<1:12:56, 75.45s/it]generating response:  74%|███████▍  | 161/218 [3:52:00<1:10:48, 74.54s/it]generating response:  74%|███████▍  | 162/218 [3:53:15<1:09:36, 74.58s/it]generating response:  75%|███████▍  | 163/218 [3:54:28<1:08:05, 74.28s/it]generating response:  75%|███████▌  | 164/218 [3:55:42<1:06:40, 74.09s/it]generating response:  76%|███████▌  | 165/218 [3:56:56<1:05:30, 74.16s/it]generating response:  76%|███████▌  | 166/218 [3:58:10<1:04:00, 73.86s/it]generating response:  77%|███████▋  | 167/218 [3:59:22<1:02:30, 73.54s/it]generating response:  77%|███████▋  | 168/218 [4:00:38<1:01:43, 74.07s/it]generating response:  78%|███████▊  | 169/218 [4:01:54<1:01:02, 74.75s/it]generating response:  78%|███████▊  | 170/218 [4:03:09<59:55, 74.91s/it]  generating response:  78%|███████▊  | 171/218 [4:04:23<58:29, 74.68s/it]generating response:  79%|███████▉  | 172/218 [4:05:38<57:12, 74.63s/it]generating response:  79%|███████▉  | 173/218 [4:06:54<56:17, 75.06s/it]generating response:  80%|███████▉  | 174/218 [4:08:09<55:06, 75.16s/it]generating response:  80%|████████  | 175/218 [4:09:25<53:58, 75.30s/it]generating response:  81%|████████  | 176/218 [4:10:42<53:08, 75.92s/it]generating response:  81%|████████  | 177/218 [4:12:01<52:23, 76.68s/it]generating response:  82%|████████▏ | 178/218 [4:13:20<51:35, 77.38s/it]generating response:  82%|████████▏ | 179/218 [4:14:38<50:24, 77.55s/it]generating response:  83%|████████▎ | 180/218 [4:15:55<49:00, 77.38s/it]generating response:  83%|████████▎ | 181/218 [4:17:12<47:39, 77.29s/it]generating response:  83%|████████▎ | 182/218 [4:18:30<46:29, 77.48s/it]generating response:  84%|████████▍ | 183/218 [4:19:47<45:03, 77.24s/it]generating response:  84%|████████▍ | 184/218 [4:21:07<44:17, 78.16s/it]generating response:  85%|████████▍ | 185/218 [4:22:25<43:01, 78.22s/it]generating response:  85%|████████▌ | 186/218 [4:23:44<41:44, 78.26s/it]generating response:  86%|████████▌ | 187/218 [4:25:01<40:21, 78.11s/it]generating response:  86%|████████▌ | 188/218 [4:26:19<38:56, 77.89s/it]generating response:  87%|████████▋ | 189/218 [4:27:36<37:37, 77.84s/it]generating response:  87%|████████▋ | 190/218 [4:28:54<36:15, 77.70s/it]generating response:  88%|████████▊ | 191/218 [4:30:14<35:17, 78.42s/it]generating response:  88%|████████▊ | 192/218 [4:31:33<34:01, 78.53s/it]generating response:  89%|████████▊ | 193/218 [4:32:52<32:48, 78.74s/it]generating response:  89%|████████▉ | 194/218 [4:34:10<31:22, 78.43s/it]generating response:  89%|████████▉ | 195/218 [4:35:31<30:21, 79.20s/it]generating response:  90%|████████▉ | 196/218 [4:36:49<28:57, 78.97s/it]generating response:  90%|█████████ | 197/218 [4:38:07<27:31, 78.65s/it]generating response:  91%|█████████ | 198/218 [4:39:25<26:11, 78.58s/it]generating response:  91%|█████████▏| 199/218 [4:40:44<24:51, 78.49s/it]generating response:  92%|█████████▏| 200/218 [4:42:02<23:30, 78.36s/it]generating response:  92%|█████████▏| 201/218 [4:43:19<22:08, 78.16s/it]generating response:  93%|█████████▎| 202/218 [4:44:38<20:52, 78.28s/it]generating response:  93%|█████████▎| 203/218 [4:45:54<19:24, 77.65s/it]generating response:  94%|█████████▎| 204/218 [4:47:13<18:11, 77.93s/it]generating response:  94%|█████████▍| 205/218 [4:48:30<16:49, 77.68s/it]generating response:  94%|█████████▍| 206/218 [4:49:49<15:36, 78.08s/it]generating response:  95%|█████████▍| 207/218 [4:51:06<14:14, 77.67s/it]generating response:  95%|█████████▌| 208/218 [4:52:23<12:55, 77.56s/it]generating response:  96%|█████████▌| 209/218 [4:53:40<11:38, 77.58s/it]generating response:  96%|█████████▋| 210/218 [4:54:57<10:19, 77.40s/it]generating response:  97%|█████████▋| 211/218 [4:56:16<09:03, 77.63s/it]generating response:  97%|█████████▋| 212/218 [4:57:34<07:47, 77.96s/it]generating response:  98%|█████████▊| 213/218 [4:58:52<06:30, 78.00s/it]generating response:  98%|█████████▊| 214/218 [5:00:15<05:18, 79.51s/it]generating response:  99%|█████████▊| 215/218 [5:01:33<03:57, 79.05s/it]generating response:  99%|█████████▉| 216/218 [5:02:51<02:37, 78.54s/it]generating response: 100%|█████████▉| 217/218 [5:04:09<01:18, 78.43s/it]generating response: 100%|██████████| 218/218 [5:05:28<00:00, 78.51s/it]generating response: 100%|██████████| 218/218 [5:05:28<00:00, 84.07s/it]
generation part takes 18358.25s
processed 218 images, 218 texts in 18358.34s
using minigpt4 for generation
Loading MiniGPT-4 models...Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.26s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.42s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.55s/it]
/home/xuyue/.local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Loading Q-Former
Loading Q-Former Done
Load MiniGPT-4 Checkpoint: /home/xuyue/QXYtemp/MLM/minigpt4/prerained_minigpt4_7b.pth
Done
generating response:   0%|          | 0/218 [00:00<?, ?it/s]generating response:   0%|          | 1/218 [01:15<4:33:10, 75.53s/it]generating response:   1%|          | 2/218 [02:30<4:29:56, 74.99s/it]generating response:   1%|▏         | 3/218 [03:45<4:28:41, 74.98s/it]generating response:   2%|▏         | 4/218 [05:09<4:41:19, 78.88s/it]generating response:   2%|▏         | 5/218 [06:25<4:35:43, 77.67s/it]generating response:   3%|▎         | 6/218 [07:40<4:30:56, 76.68s/it]generating response:   3%|▎         | 7/218 [08:55<4:28:28, 76.34s/it]generating response:   4%|▎         | 8/218 [10:12<4:27:25, 76.41s/it]generating response:   4%|▍         | 9/218 [11:29<4:27:02, 76.66s/it]generating response:   5%|▍         | 10/218 [12:45<4:25:08, 76.48s/it]generating response:   5%|▌         | 11/218 [14:02<4:23:53, 76.49s/it]generating response:   6%|▌         | 12/218 [15:16<4:20:43, 75.94s/it]generating response:   6%|▌         | 13/218 [17:08<4:55:59, 86.63s/it]generating response:   6%|▋         | 14/218 [18:57<5:17:41, 93.44s/it]generating response:   7%|▋         | 15/218 [20:49<5:35:40, 99.21s/it]generating response:   7%|▋         | 16/218 [22:41<5:47:01, 103.08s/it]generating response:   8%|▊         | 17/218 [24:34<5:54:41, 105.88s/it]generating response:   8%|▊         | 18/218 [26:27<6:00:00, 108.00s/it]generating response:   9%|▊         | 19/218 [28:20<6:03:11, 109.51s/it]generating response:   9%|▉         | 20/218 [30:12<6:03:41, 110.21s/it]generating response:  10%|▉         | 21/218 [32:05<6:05:23, 111.29s/it]generating response:  10%|█         | 22/218 [33:58<6:04:30, 111.58s/it]generating response:  11%|█         | 23/218 [35:52<6:05:15, 112.39s/it]generating response:  11%|█         | 24/218 [37:46<6:05:11, 112.95s/it]generating response:  11%|█▏        | 25/218 [39:41<6:05:22, 113.59s/it]generating response:  12%|█▏        | 26/218 [41:37<6:05:22, 114.18s/it]generating response:  12%|█▏        | 27/218 [43:34<6:05:59, 114.97s/it]generating response:  13%|█▎        | 28/218 [45:27<6:02:34, 114.50s/it]generating response:  13%|█▎        | 29/218 [47:20<5:59:29, 114.13s/it]generating response:  14%|█▍        | 30/218 [49:15<5:57:44, 114.17s/it]generating response:  14%|█▍        | 31/218 [51:07<5:54:20, 113.69s/it]generating response:  15%|█▍        | 32/218 [53:02<5:53:29, 114.03s/it]generating response:  15%|█▌        | 33/218 [54:53<5:48:26, 113.01s/it]generating response:  16%|█▌        | 34/218 [56:45<5:45:35, 112.70s/it]generating response:  16%|█▌        | 35/218 [58:34<5:40:43, 111.71s/it]generating response:  17%|█▋        | 36/218 [59:53<5:08:50, 101.82s/it]generating response:  17%|█▋        | 37/218 [1:01:08<4:43:11, 93.88s/it]generating response:  17%|█▋        | 38/218 [1:02:25<4:26:39, 88.89s/it]generating response:  18%|█▊        | 39/218 [1:03:42<4:14:11, 85.21s/it]generating response:  18%|█▊        | 40/218 [1:04:58<4:04:45, 82.50s/it]generating response:  19%|█▉        | 41/218 [1:06:16<3:59:07, 81.06s/it]generating response:  19%|█▉        | 42/218 [1:07:33<3:53:52, 79.73s/it]generating response:  20%|█▉        | 43/218 [1:08:48<3:48:55, 78.49s/it]generating response:  20%|██        | 44/218 [1:10:05<3:46:38, 78.15s/it]generating response:  21%|██        | 45/218 [1:11:21<3:43:21, 77.46s/it]generating response:  21%|██        | 46/218 [1:12:37<3:40:55, 77.07s/it]generating response:  22%|██▏       | 47/218 [1:13:53<3:38:09, 76.55s/it]generating response:  22%|██▏       | 48/218 [1:15:08<3:35:55, 76.21s/it]generating response:  22%|██▏       | 49/218 [1:16:25<3:34:48, 76.26s/it]generating response:  23%|██▎       | 50/218 [1:17:41<3:33:26, 76.23s/it]generating response:  23%|██▎       | 51/218 [1:18:57<3:31:56, 76.15s/it]generating response:  24%|██▍       | 52/218 [1:20:13<3:30:26, 76.06s/it]generating response:  24%|██▍       | 53/218 [1:21:31<3:31:18, 76.84s/it]generating response:  25%|██▍       | 54/218 [1:22:48<3:30:14, 76.92s/it]generating response:  25%|██▌       | 55/218 [1:24:05<3:28:46, 76.85s/it]generating response:  26%|██▌       | 56/218 [1:25:22<3:27:29, 76.85s/it]generating response:  26%|██▌       | 57/218 [1:26:38<3:25:18, 76.52s/it]generating response:  27%|██▋       | 58/218 [1:27:54<3:23:55, 76.47s/it]generating response:  27%|██▋       | 59/218 [1:29:11<3:23:10, 76.67s/it]generating response:  28%|██▊       | 60/218 [1:30:31<3:24:15, 77.57s/it]generating response:  28%|██▊       | 61/218 [1:31:47<3:21:55, 77.17s/it]generating response:  28%|██▊       | 62/218 [1:33:03<3:19:54, 76.89s/it]generating response:  29%|██▉       | 63/218 [1:34:19<3:17:24, 76.41s/it]generating response:  29%|██▉       | 64/218 [1:35:36<3:16:49, 76.69s/it]generating response:  30%|██▉       | 65/218 [1:36:53<3:16:13, 76.95s/it]generating response:  30%|███       | 66/218 [1:38:09<3:14:08, 76.64s/it]generating response:  31%|███       | 67/218 [1:39:24<3:11:34, 76.12s/it]generating response:  31%|███       | 68/218 [1:40:42<3:11:12, 76.49s/it]generating response:  32%|███▏      | 69/218 [1:41:58<3:09:55, 76.48s/it]generating response:  32%|███▏      | 70/218 [1:43:14<3:07:53, 76.17s/it]generating response:  33%|███▎      | 71/218 [1:44:27<3:04:28, 75.29s/it]generating response:  33%|███▎      | 72/218 [1:45:40<3:02:02, 74.81s/it]generating response:  33%|███▎      | 73/218 [1:46:56<3:01:12, 74.99s/it]generating response:  34%|███▍      | 74/218 [1:48:10<2:59:06, 74.63s/it]generating response:  34%|███▍      | 75/218 [1:49:28<3:00:15, 75.63s/it]generating response:  35%|███▍      | 76/218 [1:50:44<2:59:27, 75.83s/it]generating response:  35%|███▌      | 77/218 [1:52:01<2:59:15, 76.28s/it]generating response:  36%|███▌      | 78/218 [1:53:18<2:58:02, 76.30s/it]generating response:  36%|███▌      | 79/218 [1:54:33<2:56:11, 76.05s/it]generating response:  37%|███▋      | 80/218 [1:55:48<2:54:29, 75.87s/it]generating response:  37%|███▋      | 81/218 [1:57:05<2:53:20, 75.92s/it]generating response:  38%|███▊      | 82/218 [1:58:19<2:51:18, 75.58s/it]generating response:  38%|███▊      | 83/218 [1:59:35<2:49:51, 75.49s/it]generating response:  39%|███▊      | 84/218 [2:00:49<2:48:03, 75.25s/it]generating response:  39%|███▉      | 85/218 [2:02:06<2:47:43, 75.67s/it]generating response:  39%|███▉      | 86/218 [2:03:21<2:46:02, 75.47s/it]generating response:  40%|███▉      | 87/218 [2:04:37<2:45:27, 75.78s/it]generating response:  40%|████      | 88/218 [2:05:53<2:44:11, 75.78s/it]generating response:  41%|████      | 89/218 [2:07:12<2:44:55, 76.71s/it]generating response:  41%|████▏     | 90/218 [2:08:30<2:44:15, 76.99s/it]generating response:  42%|████▏     | 91/218 [2:09:46<2:42:31, 76.79s/it]generating response:  42%|████▏     | 92/218 [2:11:04<2:41:55, 77.11s/it]generating response:  43%|████▎     | 93/218 [2:12:21<2:40:54, 77.24s/it]generating response:  43%|████▎     | 94/218 [2:13:40<2:40:42, 77.76s/it]generating response:  44%|████▎     | 95/218 [2:14:57<2:38:27, 77.30s/it]generating response:  44%|████▍     | 96/218 [2:16:14<2:37:19, 77.38s/it]generating response:  44%|████▍     | 97/218 [2:17:33<2:37:00, 77.86s/it]generating response:  45%|████▍     | 98/218 [2:18:51<2:35:38, 77.82s/it]generating response:  45%|████▌     | 99/218 [2:20:09<2:34:14, 77.77s/it]generating response:  46%|████▌     | 100/218 [2:21:26<2:32:32, 77.56s/it]generating response:  46%|████▋     | 101/218 [2:22:42<2:30:17, 77.08s/it]generating response:  47%|████▋     | 102/218 [2:23:59<2:29:24, 77.28s/it]generating response:  47%|████▋     | 103/218 [2:25:16<2:27:38, 77.03s/it]generating response:  48%|████▊     | 104/218 [2:26:33<2:26:18, 77.00s/it]generating response:  48%|████▊     | 105/218 [2:27:49<2:24:24, 76.67s/it]generating response:  49%|████▊     | 106/218 [2:29:03<2:21:49, 75.98s/it]generating response:  49%|████▉     | 107/218 [2:30:17<2:19:19, 75.31s/it]generating response:  50%|████▉     | 108/218 [2:31:32<2:18:15, 75.41s/it]generating response:  50%|█████     | 109/218 [2:32:47<2:16:47, 75.30s/it]generating response:  50%|█████     | 110/218 [2:34:05<2:16:36, 75.90s/it]generating response:  51%|█████     | 111/218 [2:35:19<2:14:37, 75.49s/it]generating response:  51%|█████▏    | 112/218 [2:36:35<2:13:18, 75.46s/it]generating response:  52%|█████▏    | 113/218 [2:37:49<2:11:41, 75.26s/it]generating response:  52%|█████▏    | 114/218 [2:39:05<2:10:27, 75.26s/it]generating response:  53%|█████▎    | 115/218 [2:40:20<2:09:21, 75.36s/it]generating response:  53%|█████▎    | 116/218 [2:41:37<2:08:35, 75.64s/it]generating response:  54%|█████▎    | 117/218 [2:42:53<2:07:50, 75.94s/it]generating response:  54%|█████▍    | 118/218 [2:44:10<2:07:07, 76.27s/it]generating response:  55%|█████▍    | 119/218 [2:45:27<2:06:14, 76.51s/it]generating response:  55%|█████▌    | 120/218 [2:46:46<2:06:01, 77.16s/it]generating response:  56%|█████▌    | 121/218 [2:48:03<2:04:32, 77.03s/it]generating response:  56%|█████▌    | 122/218 [2:49:21<2:03:39, 77.29s/it]generating response:  56%|█████▋    | 123/218 [2:51:16<2:20:12, 88.56s/it]generating response:  57%|█████▋    | 124/218 [2:53:10<2:31:01, 96.40s/it]generating response:  57%|█████▋    | 125/218 [2:55:05<2:37:48, 101.81s/it]generating response:  58%|█████▊    | 126/218 [2:56:58<2:41:25, 105.28s/it]generating response:  58%|█████▊    | 127/218 [2:58:53<2:44:03, 108.17s/it]generating response:  59%|█████▊    | 128/218 [3:00:48<2:45:23, 110.26s/it]generating response:  59%|█████▉    | 129/218 [3:02:47<2:47:36, 113.00s/it]generating response:  60%|█████▉    | 130/218 [3:04:42<2:46:36, 113.59s/it]generating response:  60%|██████    | 131/218 [3:06:37<2:44:58, 113.77s/it]generating response:  61%|██████    | 132/218 [3:08:30<2:42:51, 113.63s/it]generating response:  61%|██████    | 133/218 [3:10:24<2:41:20, 113.89s/it]generating response:  61%|██████▏   | 134/218 [3:12:19<2:39:43, 114.08s/it]generating response:  62%|██████▏   | 135/218 [3:14:13<2:37:43, 114.01s/it]generating response:  62%|██████▏   | 136/218 [3:16:08<2:36:29, 114.50s/it]generating response:  63%|██████▎   | 137/218 [3:18:06<2:35:39, 115.30s/it]generating response:  63%|██████▎   | 138/218 [3:20:00<2:33:28, 115.11s/it]generating response:  64%|██████▍   | 139/218 [3:21:56<2:31:43, 115.24s/it]generating response:  64%|██████▍   | 140/218 [3:23:51<2:29:40, 115.14s/it]generating response:  65%|██████▍   | 141/218 [3:25:46<2:27:54, 115.25s/it]generating response:  65%|██████▌   | 142/218 [3:27:42<2:26:11, 115.41s/it]generating response:  66%|██████▌   | 143/218 [3:29:37<2:23:55, 115.14s/it]generating response:  66%|██████▌   | 144/218 [3:31:31<2:21:54, 115.06s/it]generating response:  67%|██████▋   | 145/218 [3:33:08<2:13:19, 109.59s/it]generating response:  67%|██████▋   | 146/218 [3:34:25<1:59:50, 99.87s/it] generating response:  67%|██████▋   | 147/218 [3:35:43<1:50:13, 93.15s/it]generating response:  68%|██████▊   | 148/218 [3:37:01<1:43:27, 88.68s/it]generating response:  68%|██████▊   | 149/218 [3:38:20<1:38:25, 85.58s/it]generating response:  69%|██████▉   | 150/218 [3:39:38<1:34:34, 83.45s/it]generating response:  69%|██████▉   | 151/218 [3:40:58<1:31:57, 82.35s/it]generating response:  70%|██████▉   | 152/218 [3:42:15<1:28:53, 80.82s/it]generating response:  70%|███████   | 153/218 [3:43:34<1:26:54, 80.22s/it]generating response:  71%|███████   | 154/218 [3:44:52<1:24:51, 79.55s/it]generating response:  71%|███████   | 155/218 [3:46:11<1:23:16, 79.31s/it]generating response:  72%|███████▏  | 156/218 [3:47:28<1:21:29, 78.87s/it]generating response:  72%|███████▏  | 157/218 [3:48:46<1:19:48, 78.50s/it]generating response:  72%|███████▏  | 158/218 [3:50:05<1:18:32, 78.54s/it]generating response:  73%|███████▎  | 159/218 [3:51:21<1:16:30, 77.80s/it]generating response:  73%|███████▎  | 160/218 [3:52:39<1:15:23, 77.99s/it]generating response:  74%|███████▍  | 161/218 [3:53:57<1:13:54, 77.79s/it]generating response:  74%|███████▍  | 162/218 [3:55:13<1:12:21, 77.53s/it]generating response:  75%|███████▍  | 163/218 [3:56:30<1:10:46, 77.21s/it]generating response:  75%|███████▌  | 164/218 [3:57:45<1:08:56, 76.60s/it]generating response:  76%|███████▌  | 165/218 [3:59:01<1:07:24, 76.32s/it]generating response:  76%|███████▌  | 166/218 [4:00:18<1:06:28, 76.71s/it]generating response:  77%|███████▋  | 167/218 [4:01:34<1:05:00, 76.49s/it]generating response:  77%|███████▋  | 168/218 [4:02:51<1:03:41, 76.43s/it]generating response:  78%|███████▊  | 169/218 [4:04:09<1:02:47, 76.88s/it]generating response:  78%|███████▊  | 170/218 [4:05:26<1:01:42, 77.13s/it]generating response:  78%|███████▊  | 171/218 [4:06:43<1:00:12, 76.86s/it]generating response:  79%|███████▉  | 172/218 [4:08:01<59:19, 77.38s/it]  generating response:  79%|███████▉  | 173/218 [4:09:19<58:12, 77.61s/it]generating response:  80%|███████▉  | 174/218 [4:10:38<57:03, 77.82s/it]generating response:  80%|████████  | 175/218 [4:11:56<55:58, 78.11s/it]generating response:  81%|████████  | 176/218 [4:13:15<54:46, 78.26s/it]generating response:  81%|████████  | 177/218 [4:14:33<53:24, 78.15s/it]generating response:  82%|████████▏ | 178/218 [4:15:50<51:52, 77.81s/it]generating response:  82%|████████▏ | 179/218 [4:17:09<50:45, 78.09s/it]generating response:  83%|████████▎ | 180/218 [4:18:26<49:20, 77.91s/it]generating response:  83%|████████▎ | 181/218 [4:19:44<47:57, 77.77s/it]generating response:  83%|████████▎ | 182/218 [4:21:02<46:50, 78.07s/it]generating response:  84%|████████▍ | 183/218 [4:22:19<45:22, 77.80s/it]generating response:  84%|████████▍ | 184/218 [4:23:38<44:13, 78.05s/it]generating response:  85%|████████▍ | 185/218 [4:24:55<42:45, 77.75s/it]generating response:  85%|████████▌ | 186/218 [4:26:14<41:41, 78.17s/it]generating response:  86%|████████▌ | 187/218 [4:27:35<40:50, 79.06s/it]generating response:  86%|████████▌ | 188/218 [4:28:55<39:33, 79.12s/it]generating response:  87%|████████▋ | 189/218 [4:30:11<37:53, 78.41s/it]generating response:  87%|████████▋ | 190/218 [4:31:30<36:36, 78.46s/it]generating response:  88%|████████▊ | 191/218 [4:32:47<35:03, 77.92s/it]generating response:  88%|████████▊ | 192/218 [4:34:03<33:36, 77.54s/it]generating response:  89%|████████▊ | 193/218 [4:35:22<32:27, 77.92s/it]generating response:  89%|████████▉ | 194/218 [4:36:38<30:58, 77.43s/it]generating response:  89%|████████▉ | 195/218 [4:37:54<29:31, 77.00s/it]generating response:  90%|████████▉ | 196/218 [4:39:12<28:15, 77.05s/it]generating response:  90%|█████████ | 197/218 [4:40:29<27:00, 77.16s/it]generating response:  91%|█████████ | 198/218 [4:41:45<25:37, 76.90s/it]generating response:  91%|█████████▏| 199/218 [4:43:03<24:25, 77.11s/it]generating response:  92%|█████████▏| 200/218 [4:44:21<23:13, 77.42s/it]generating response:  92%|█████████▏| 201/218 [4:45:38<21:55, 77.41s/it]generating response:  93%|█████████▎| 202/218 [4:46:56<20:39, 77.45s/it]generating response:  93%|█████████▎| 203/218 [4:48:13<19:19, 77.32s/it]generating response:  94%|█████████▎| 204/218 [4:49:31<18:06, 77.63s/it]generating response:  94%|█████████▍| 205/218 [4:50:48<16:46, 77.42s/it]generating response:  94%|█████████▍| 206/218 [4:52:06<15:29, 77.47s/it]generating response:  95%|█████████▍| 207/218 [4:53:23<14:12, 77.49s/it]generating response:  95%|█████████▌| 208/218 [4:54:40<12:51, 77.15s/it]generating response:  96%|█████████▌| 209/218 [4:55:56<11:33, 77.01s/it]generating response:  96%|█████████▋| 210/218 [4:57:15<10:19, 77.42s/it]generating response:  97%|█████████▋| 211/218 [4:58:32<09:01, 77.29s/it]generating response:  97%|█████████▋| 212/218 [4:59:50<07:45, 77.58s/it]generating response:  98%|█████████▊| 213/218 [5:01:12<06:34, 78.84s/it]generating response:  98%|█████████▊| 214/218 [5:02:29<05:13, 78.41s/it]generating response:  99%|█████████▊| 215/218 [5:03:47<03:54, 78.18s/it]generating response:  99%|█████████▉| 216/218 [5:05:05<02:36, 78.04s/it]generating response: 100%|█████████▉| 217/218 [5:06:23<01:18, 78.12s/it]generating response: 100%|██████████| 218/218 [5:07:41<00:00, 78.22s/it]generating response: 100%|██████████| 218/218 [5:07:41<00:00, 84.69s/it]
generation part takes 18491.35s
processed 218 images, 218 texts in 36849.72s
using minigpt4 for generation
Loading MiniGPT-4 models...Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.27s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.43s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.55s/it]
/home/xuyue/.local/lib/python3.10/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
Loading Q-Former
Loading Q-Former Done
Load MiniGPT-4 Checkpoint: /home/xuyue/QXYtemp/MLM/minigpt4/prerained_minigpt4_7b.pth
Done
generating response:   0%|          | 0/218 [00:00<?, ?it/s]generating response:   0%|          | 1/218 [01:15<4:32:31, 75.35s/it]generating response:   1%|          | 2/218 [02:32<4:35:47, 76.61s/it]generating response:   1%|▏         | 3/218 [03:49<4:34:08, 76.50s/it]generating response:   2%|▏         | 4/218 [05:04<4:31:18, 76.07s/it]generating response:   2%|▏         | 5/218 [06:23<4:33:36, 77.07s/it]generating response:   3%|▎         | 6/218 [07:38<4:30:24, 76.53s/it]generating response:   3%|▎         | 7/218 [08:55<4:29:02, 76.50s/it]generating response:   4%|▎         | 8/218 [10:15<4:31:58, 77.71s/it]generating response:   4%|▍         | 9/218 [11:33<4:30:26, 77.64s/it]generating response:   5%|▍         | 10/218 [12:50<4:28:38, 77.49s/it]generating response:   5%|▌         | 11/218 [14:07<4:27:19, 77.49s/it]generating response:   6%|▌         | 12/218 [15:21<4:21:55, 76.29s/it]generating response:   6%|▌         | 13/218 [16:22<4:05:04, 71.73s/it]generating response:   6%|▋         | 14/218 [17:25<3:54:19, 68.92s/it]generating response:   7%|▋         | 15/218 [18:26<3:45:50, 66.75s/it]generating response:   7%|▋         | 16/218 [19:28<3:39:53, 65.31s/it]generating response:   8%|▊         | 17/218 [20:30<3:35:43, 64.39s/it]generating response:   8%|▊         | 18/218 [21:47<3:46:56, 68.08s/it]generating response:   9%|▊         | 19/218 [23:30<4:20:27, 78.53s/it]generating response:   9%|▉         | 20/218 [25:13<4:43:10, 85.81s/it]generating response:  10%|▉         | 21/218 [26:58<5:00:50, 91.63s/it]generating response:  10%|█         | 22/218 [28:41<5:10:30, 95.05s/it]generating response:  11%|█         | 23/218 [30:24<5:16:28, 97.38s/it]generating response:  11%|█         | 24/218 [32:08<5:21:05, 99.31s/it]generating response:  11%|█▏        | 25/218 [33:50<5:22:20, 100.21s/it]generating response:  12%|█▏        | 26/218 [35:37<5:26:52, 102.15s/it]generating response:  12%|█▏        | 27/218 [37:22<5:28:09, 103.09s/it]generating response:  13%|█▎        | 28/218 [39:04<5:25:44, 102.87s/it]generating response:  13%|█▎        | 29/218 [40:47<5:24:08, 102.90s/it]generating response:  14%|█▍        | 30/218 [42:31<5:23:06, 103.12s/it]generating response:  14%|█▍        | 31/218 [44:13<5:20:09, 102.73s/it]generating response:  15%|█▍        | 32/218 [45:59<5:22:13, 103.94s/it]generating response:  15%|█▌        | 33/218 [47:41<5:18:03, 103.15s/it]generating response:  16%|█▌        | 34/218 [49:25<5:17:07, 103.41s/it]generating response:  16%|█▌        | 35/218 [51:07<5:14:31, 103.13s/it]generating response:  17%|█▋        | 36/218 [52:48<5:10:26, 102.34s/it]generating response:  17%|█▋        | 37/218 [54:29<5:08:01, 102.11s/it]generating response:  17%|█▋        | 38/218 [56:13<5:07:27, 102.49s/it]generating response:  18%|█▊        | 39/218 [57:57<5:07:13, 102.98s/it]generating response:  18%|█▊        | 40/218 [59:41<5:06:37, 103.36s/it]generating response:  19%|█▉        | 41/218 [1:01:25<5:05:48, 103.66s/it]generating response:  19%|█▉        | 42/218 [1:03:09<5:04:26, 103.78s/it]generating response:  20%|█▉        | 43/218 [1:04:53<5:02:48, 103.82s/it]generating response:  20%|██        | 44/218 [1:06:36<4:59:59, 103.45s/it]generating response:  21%|██        | 45/218 [1:08:18<4:57:27, 103.16s/it]generating response:  21%|██        | 46/218 [1:10:01<4:55:00, 102.91s/it]generating response:  22%|██▏       | 47/218 [1:11:45<4:54:33, 103.35s/it]generating response:  22%|██▏       | 48/218 [1:13:28<4:52:13, 103.14s/it]generating response:  22%|██▏       | 49/218 [1:15:11<4:50:12, 103.03s/it]generating response:  23%|██▎       | 50/218 [1:16:53<4:48:09, 102.91s/it]generating response:  23%|██▎       | 51/218 [1:18:39<4:48:59, 103.83s/it]generating response:  24%|██▍       | 52/218 [1:20:22<4:46:40, 103.62s/it]generating response:  24%|██▍       | 53/218 [1:22:08<4:46:29, 104.18s/it]generating response:  25%|██▍       | 54/218 [1:23:49<4:42:24, 103.32s/it]generating response:  25%|██▌       | 55/218 [1:25:31<4:39:30, 102.89s/it]generating response:  26%|██▌       | 56/218 [1:27:10<4:35:01, 101.86s/it]generating response:  26%|██▌       | 57/218 [1:28:53<4:33:35, 101.96s/it]generating response:  27%|██▋       | 58/218 [1:30:37<4:33:57, 102.73s/it]generating response:  27%|██▋       | 59/218 [1:32:21<4:33:08, 103.07s/it]generating response:  28%|██▊       | 60/218 [1:34:05<4:31:54, 103.26s/it]generating response:  28%|██▊       | 61/218 [1:35:49<4:31:16, 103.67s/it]generating response:  28%|██▊       | 62/218 [1:37:36<4:31:32, 104.44s/it]generating response:  29%|██▉       | 63/218 [1:39:20<4:29:58, 104.50s/it]generating response:  29%|██▉       | 64/218 [1:41:03<4:27:09, 104.09s/it]generating response:  30%|██▉       | 65/218 [1:42:46<4:23:55, 103.50s/it]generating response:  30%|███       | 66/218 [1:44:31<4:23:40, 104.08s/it]generating response:  31%|███       | 67/218 [1:46:15<4:21:54, 104.07s/it]generating response:  31%|███       | 68/218 [1:48:00<4:21:04, 104.43s/it]generating response:  32%|███▏      | 69/218 [1:49:44<4:18:39, 104.16s/it]generating response:  32%|███▏      | 70/218 [1:51:25<4:14:53, 103.33s/it]generating response:  33%|███▎      | 71/218 [1:53:06<4:11:32, 102.67s/it]generating response:  33%|███▎      | 72/218 [1:54:47<4:08:35, 102.16s/it]generating response:  33%|███▎      | 73/218 [1:56:30<4:07:18, 102.34s/it]generating response:  34%|███▍      | 74/218 [1:58:12<4:05:11, 102.16s/it]generating response:  34%|███▍      | 75/218 [1:59:55<4:04:31, 102.60s/it]generating response:  35%|███▍      | 76/218 [2:01:38<4:02:54, 102.64s/it]generating response:  35%|███▌      | 77/218 [2:03:21<4:01:29, 102.76s/it]generating response:  36%|███▌      | 78/218 [2:05:04<3:59:38, 102.71s/it]generating response:  36%|███▌      | 79/218 [2:06:50<4:00:35, 103.85s/it]generating response:  37%|███▋      | 80/218 [2:08:34<3:58:55, 103.88s/it]generating response:  37%|███▋      | 81/218 [2:10:17<3:56:15, 103.47s/it]generating response:  38%|███▊      | 82/218 [2:12:01<3:55:04, 103.71s/it]generating response:  38%|███▊      | 83/218 [2:13:45<3:53:36, 103.83s/it]generating response:  39%|███▊      | 84/218 [2:15:27<3:50:23, 103.16s/it]generating response:  39%|███▉      | 85/218 [2:17:08<3:47:22, 102.57s/it]generating response:  39%|███▉      | 86/218 [2:18:50<3:45:21, 102.43s/it]generating response:  40%|███▉      | 87/218 [2:20:32<3:43:22, 102.31s/it]generating response:  40%|████      | 88/218 [2:22:14<3:41:26, 102.20s/it]generating response:  41%|████      | 89/218 [2:23:57<3:40:13, 102.43s/it]generating response:  41%|████▏     | 90/218 [2:25:41<3:39:28, 102.88s/it]generating response:  42%|████▏     | 91/218 [2:27:24<3:38:10, 103.08s/it]generating response:  42%|████▏     | 92/218 [2:29:07<3:36:20, 103.02s/it]generating response:  43%|████▎     | 93/218 [2:30:49<3:33:38, 102.54s/it]generating response:  43%|████▎     | 94/218 [2:32:34<3:33:38, 103.37s/it]generating response:  44%|████▎     | 95/218 [2:34:20<3:33:42, 104.24s/it]generating response:  44%|████▍     | 96/218 [2:36:03<3:30:58, 103.76s/it]generating response:  44%|████▍     | 97/218 [2:37:48<3:29:53, 104.08s/it]generating response:  45%|████▍     | 98/218 [2:39:29<3:26:36, 103.30s/it]generating response:  45%|████▌     | 99/218 [2:41:16<3:26:59, 104.36s/it]generating response:  46%|████▌     | 100/218 [2:43:00<3:24:53, 104.18s/it]generating response:  46%|████▋     | 101/218 [2:44:44<3:23:06, 104.16s/it]generating response:  47%|████▋     | 102/218 [2:46:26<3:20:01, 103.46s/it]generating response:  47%|████▋     | 103/218 [2:48:10<3:18:37, 103.63s/it]generating response:  48%|████▊     | 104/218 [2:49:54<3:17:16, 103.83s/it]generating response:  48%|████▊     | 105/218 [2:51:37<3:15:15, 103.67s/it]generating response:  49%|████▊     | 106/218 [2:53:21<3:13:31, 103.68s/it]generating response:  49%|████▉     | 107/218 [2:55:05<3:11:57, 103.76s/it]generating response:  50%|████▉     | 108/218 [2:56:48<3:09:39, 103.45s/it]generating response:  50%|█████     | 109/218 [2:58:31<3:07:52, 103.42s/it]generating response:  50%|█████     | 110/218 [3:00:17<3:07:11, 104.00s/it]generating response:  51%|█████     | 111/218 [3:02:00<3:05:05, 103.79s/it]generating response:  51%|█████▏    | 112/218 [3:03:44<3:03:23, 103.81s/it]generating response:  52%|█████▏    | 113/218 [3:05:26<3:00:40, 103.25s/it]generating response:  52%|█████▏    | 114/218 [3:07:09<2:59:12, 103.39s/it]generating response:  53%|█████▎    | 115/218 [3:08:52<2:57:12, 103.22s/it]generating response:  53%|█████▎    | 116/218 [3:10:36<2:55:40, 103.33s/it]generating response:  54%|█████▎    | 117/218 [3:12:18<2:53:36, 103.14s/it]generating response:  54%|█████▍    | 118/218 [3:14:02<2:52:08, 103.28s/it]generating response:  55%|█████▍    | 119/218 [3:15:46<2:50:32, 103.35s/it]generating response:  55%|█████▌    | 120/218 [3:17:30<2:49:27, 103.75s/it]generating response:  56%|█████▌    | 121/218 [3:19:16<2:48:27, 104.20s/it]generating response:  56%|█████▌    | 122/218 [3:20:58<2:45:56, 103.72s/it]generating response:  56%|█████▋    | 123/218 [3:22:42<2:44:22, 103.81s/it]generating response:  57%|█████▋    | 124/218 [3:24:26<2:42:48, 103.92s/it]generating response:  57%|█████▋    | 125/218 [3:26:06<2:39:18, 102.78s/it]generating response:  58%|█████▊    | 126/218 [3:27:49<2:37:24, 102.66s/it]generating response:  58%|█████▊    | 127/218 [3:29:33<2:36:19, 103.07s/it]generating response:  59%|█████▊    | 128/218 [3:31:18<2:35:18, 103.54s/it]generating response:  59%|█████▉    | 129/218 [3:33:01<2:33:31, 103.50s/it]generating response:  60%|█████▉    | 130/218 [3:34:43<2:31:23, 103.23s/it]generating response:  60%|██████    | 131/218 [3:36:26<2:29:30, 103.11s/it]generating response:  61%|██████    | 132/218 [3:38:09<2:27:27, 102.88s/it]generating response:  61%|██████    | 133/218 [3:39:53<2:26:20, 103.30s/it]generating response:  61%|██████▏   | 134/218 [3:41:35<2:24:08, 102.96s/it]generating response:  62%|██████▏   | 135/218 [3:43:16<2:21:35, 102.36s/it]generating response:  62%|██████▏   | 136/218 [3:45:01<2:20:49, 103.04s/it]generating response:  63%|██████▎   | 137/218 [3:46:44<2:19:22, 103.24s/it]generating response:  63%|██████▎   | 138/218 [3:48:29<2:18:19, 103.74s/it]generating response:  64%|██████▍   | 139/218 [3:50:14<2:16:46, 103.88s/it]generating response:  64%|██████▍   | 140/218 [3:51:58<2:15:20, 104.12s/it]generating response:  65%|██████▍   | 141/218 [3:53:42<2:13:31, 104.05s/it]generating response:  65%|██████▌   | 142/218 [3:55:27<2:12:04, 104.26s/it]generating response:  66%|██████▌   | 143/218 [3:57:11<2:10:12, 104.16s/it]generating response:  66%|██████▌   | 144/218 [3:58:54<2:08:11, 103.93s/it]generating response:  67%|██████▋   | 145/218 [4:00:38<2:06:20, 103.84s/it]generating response:  67%|██████▋   | 146/218 [4:02:23<2:04:57, 104.14s/it]generating response:  67%|██████▋   | 147/218 [4:04:08<2:03:36, 104.46s/it]generating response:  68%|██████▊   | 148/218 [4:05:52<2:01:41, 104.31s/it]generating response:  68%|██████▊   | 149/218 [4:07:35<1:59:26, 103.87s/it]generating response:  69%|██████▉   | 150/218 [4:09:18<1:57:39, 103.81s/it]generating response:  69%|██████▉   | 151/218 [4:11:01<1:55:39, 103.58s/it]generating response:  70%|██████▉   | 152/218 [4:12:46<1:54:16, 103.89s/it]generating response:  70%|███████   | 153/218 [4:14:29<1:52:21, 103.71s/it]generating response:  71%|███████   | 154/218 [4:16:11<1:49:57, 103.08s/it]generating response:  71%|███████   | 155/218 [4:17:57<1:49:14, 104.03s/it]generating response:  72%|███████▏  | 156/218 [4:19:40<1:47:08, 103.69s/it]generating response:  72%|███████▏  | 157/218 [4:21:25<1:45:53, 104.15s/it]generating response:  72%|███████▏  | 158/218 [4:23:10<1:44:19, 104.32s/it]generating response:  73%|███████▎  | 159/218 [4:24:51<1:41:44, 103.47s/it]generating response:  73%|███████▎  | 160/218 [4:26:35<1:39:54, 103.35s/it]generating response:  74%|███████▍  | 161/218 [4:28:16<1:37:40, 102.82s/it]generating response:  74%|███████▍  | 162/218 [4:29:57<1:35:33, 102.39s/it]generating response:  75%|███████▍  | 163/218 [4:31:38<1:33:22, 101.86s/it]generating response:  75%|███████▌  | 164/218 [4:33:19<1:31:21, 101.51s/it]generating response:  76%|███████▌  | 165/218 [4:34:59<1:29:24, 101.21s/it]generating response:  76%|███████▌  | 166/218 [4:36:40<1:27:40, 101.16s/it]generating response:  77%|███████▋  | 167/218 [4:38:21<1:25:58, 101.14s/it]generating response:  77%|███████▋  | 168/218 [4:40:04<1:24:32, 101.45s/it]generating response:  78%|███████▊  | 169/218 [4:41:48<1:23:28, 102.21s/it]generating response:  78%|███████▊  | 170/218 [4:43:23<1:20:04, 100.09s/it]generating response:  78%|███████▊  | 171/218 [4:44:57<1:17:00, 98.31s/it] generating response:  79%|███████▉  | 172/218 [4:46:29<1:14:00, 96.53s/it]generating response:  79%|███████▉  | 173/218 [4:48:05<1:12:14, 96.31s/it]generating response:  80%|███████▉  | 174/218 [4:49:38<1:09:49, 95.23s/it]generating response:  80%|████████  | 175/218 [4:51:12<1:08:07, 95.05s/it]generating response:  81%|████████  | 176/218 [4:52:45<1:06:05, 94.42s/it]generating response:  81%|████████  | 177/218 [4:54:18<1:04:03, 93.75s/it]generating response:  82%|████████▏ | 178/218 [4:55:47<1:01:34, 92.37s/it]generating response:  82%|████████▏ | 179/218 [4:57:19<1:00:05, 92.45s/it]generating response:  83%|████████▎ | 180/218 [4:58:54<58:52, 92.97s/it]  generating response:  83%|████████▎ | 181/218 [5:00:25<57:07, 92.64s/it]generating response:  83%|████████▎ | 182/218 [5:01:58<55:38, 92.73s/it]generating response:  84%|████████▍ | 183/218 [5:03:31<54:06, 92.75s/it]generating response:  84%|████████▍ | 184/218 [5:05:03<52:27, 92.56s/it]generating response:  85%|████████▍ | 185/218 [5:06:35<50:51, 92.46s/it]generating response:  85%|████████▌ | 186/218 [5:08:09<49:25, 92.68s/it]generating response:  86%|████████▌ | 187/218 [5:09:42<47:59, 92.89s/it]generating response:  86%|████████▌ | 188/218 [5:11:16<46:40, 93.35s/it]generating response:  87%|████████▋ | 189/218 [5:12:52<45:24, 93.96s/it]generating response:  87%|████████▋ | 190/218 [5:14:24<43:39, 93.56s/it]generating response:  88%|████████▊ | 191/218 [5:15:56<41:48, 92.91s/it]generating response:  88%|████████▊ | 192/218 [5:17:28<40:07, 92.61s/it]generating response:  89%|████████▊ | 193/218 [5:19:01<38:42, 92.89s/it]generating response:  89%|████████▉ | 194/218 [5:20:33<36:58, 92.43s/it]generating response:  89%|████████▉ | 195/218 [5:22:06<35:33, 92.78s/it]generating response:  90%|████████▉ | 196/218 [5:23:39<34:00, 92.75s/it]generating response:  90%|█████████ | 197/218 [5:25:08<32:07, 91.77s/it]generating response:  91%|█████████ | 198/218 [5:26:40<30:33, 91.69s/it]generating response:  91%|█████████▏| 199/218 [5:28:14<29:13, 92.27s/it]generating response:  92%|█████████▏| 200/218 [5:29:47<27:49, 92.73s/it]generating response:  92%|█████████▏| 201/218 [5:31:19<26:12, 92.50s/it]generating response:  93%|█████████▎| 202/218 [5:32:53<24:47, 92.98s/it]generating response:  93%|█████████▎| 203/218 [5:34:26<23:11, 92.79s/it]generating response:  94%|█████████▎| 204/218 [5:35:59<21:42, 93.07s/it]generating response:  94%|█████████▍| 205/218 [5:37:34<20:14, 93.40s/it]generating response:  94%|█████████▍| 206/218 [5:39:07<18:39, 93.32s/it]generating response:  95%|█████████▍| 207/218 [5:40:38<17:01, 92.82s/it]generating response:  95%|█████████▌| 208/218 [5:42:10<15:23, 92.32s/it]generating response:  96%|█████████▌| 209/218 [5:43:43<13:54, 92.76s/it]generating response:  96%|█████████▋| 210/218 [5:45:20<12:32, 94.05s/it]generating response:  97%|█████████▋| 211/218 [5:46:55<10:59, 94.16s/it]generating response:  97%|█████████▋| 212/218 [5:48:32<09:30, 95.12s/it]generating response:  98%|█████████▊| 213/218 [5:50:09<07:58, 95.74s/it]generating response:  98%|█████████▊| 214/218 [5:51:47<06:24, 96.23s/it]generating response:  99%|█████████▊| 215/218 [5:53:26<04:51, 97.21s/it]generating response:  99%|█████████▉| 216/218 [5:55:00<03:12, 96.30s/it]generating response: 100%|█████████▉| 217/218 [5:56:35<01:35, 95.78s/it]generating response: 100%|██████████| 218/218 [5:58:12<00:00, 96.27s/it]generating response: 100%|██████████| 218/218 [5:58:12<00:00, 98.59s/it]
generation part takes 21522.34s
Full generation completed in 58372.07s
-------minigpt4 with defence generation complete-------
-------minigpt4 without defence generation complete-------
